(function(t){function e(e){for(var n,a,r=e[0],c=e[1],l=e[2],h=0,p=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},o={app:0},i=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"00f8":function(t,e,s){},"00f9":function(t,e,s){"use strict";var n=s("4ed5"),o=s.n(n);o.a},"0182":function(t,e,s){"use strict";var n=s("457b"),o=s.n(n);o.a},"143b":function(t,e,s){"use strict";var n=s("e77d"),o=s.n(n);o.a},"1b5a":function(t,e,s){},"1d4d":function(t,e,s){},"1db4":function(t,e,s){"use strict";var n=s("b561"),o=s.n(n);o.a},"1eb7":function(t,e,s){},"2da8":function(t,e,s){"use strict";var n=s("a127"),o=s.n(n);o.a},3019:function(t,e,s){},3486:function(t,e,s){},"349a":function(t,e,s){},3579:function(t,e,s){"use strict";var n=s("cf9f"),o=s.n(n);o.a},"3c20":function(t,e,s){"use strict";var n=s("93d4"),o=s.n(n);o.a},"3f32":function(t,e,s){},"40ed":function(t,e,s){},"41e9":function(t,e,s){"use strict";var n=s("1eb7"),o=s.n(n);o.a},"437d":function(t,e,s){"use strict";var n=s("3f32"),o=s.n(n);o.a},"457b":function(t,e,s){},4663:function(t,e,s){},4746:function(t,e,s){},"498c":function(t,e,s){"use strict";var n=s("b29c"),o=s.n(n);o.a},"4b9f":function(t,e,s){"use strict";var n=s("d199"),o=s.n(n);o.a},"4d12":function(t,e,s){"use strict";var n=s("1b5a"),o=s.n(n);o.a},"4d4d":function(t,e,s){"use strict";var n=s("f690"),o=s.n(n);o.a},"4ed5":function(t,e,s){},5568:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"100vh",width:"100vw"},on:{contextmenu:t.closePhone}},[s("notification"),!0===t.show&&!1===t.tempoHide?s("div",{style:{zoom:t.zoom},on:{contextmenu:function(t){t.stopPropagation()}}},[s("div",{staticClass:"phone_wrapper"},[t.coque?s("div",{staticClass:"phone_coque",style:{backgroundImage:"url(/html/static/img/coque/"+t.coque.value+")"}}):t._e(),s("div",{staticClass:"phone_screen",attrs:{id:"app"}},[s("router-view")],1)])]):t._e()],1)},i=[],a=(s("1d4d"),s("3486"),s("2f62")),r=s("1e5c"),c={name:"app",components:{},data:function(){return{soundCall:null}},methods:{...Object(a["b"])(["loadConfig","rejectCall"]),closePhone(){this.$phoneAPI.closePhone()}},computed:{...Object(a["c"])(["show","zoom","coque","sonido","appelsInfo","myPhoneNumber","volume","tempoHide"])},watch:{appelsInfo(t,e){if(null!==this.appelsInfo&&!0!==this.appelsInfo.is_accepts){null!==this.soundCall&&this.soundCall.pause();var s=null;!0===this.appelsInfo.initiator?(s="/html/static/sound/Phone_Call_Sound_Effect.ogg",this.soundCall=new r["Howl"]({src:s,volume:this.volume,loop:!0,onend:function(){console.log("Finished!")}})):(s="/html/static/sound/"+this.sonido.value,this.soundCall=new r["Howl"]({src:s,volume:this.volume,loop:!0,onend:function(){console.log("Finished!")}})),this.soundCall.play()}else null!==this.soundCall&&(this.soundCall.pause(),this.soundCall=null);null!==t||null===e?null!==t&&this.$router.push({name:"appels.active"}):this.$router.push({name:"home"})},show(){null!==this.appelsInfo?this.$router.push({name:"appels.active"}):this.$router.push({name:"home"}),!1===this.show&&null!==this.appelsInfo&&this.rejectCall()}},mounted(){this.loadConfig(),window.addEventListener("message",t=>{void 0!==t.data.keyUp&&this.$bus.$emit("keyUp"+t.data.keyUp)}),window.addEventListener("keyup",t=>{const e=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Backspace","Enter"];-1!==e.indexOf(t.key)&&this.$bus.$emit("keyUp"+t.key),"Escape"===t.key&&this.$phoneAPI.closePhone()})}},l=c,u=s("2877"),h=Object(u["a"])(l,o,i,!1,null,null,null),p=h.exports,d=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home",style:{background:"url("+t.backgroundURL+")"}},[s("InfoBare"),t.messages.length>=t.warningMessageCount?s("span",{staticClass:"warningMess"},[t._m(0),s("span",{staticClass:"warningMess_content"},[s("span",{staticClass:"warningMess_title"},[t._v(t._s(t.IntlString("PHONE_WARNING_MESSAGE")))]),s("br"),s("span",{staticClass:"warningMess_mess"},[t._v(t._s(t.messages.length)+" / "+t._s(t.warningMessageCount)+" "+t._s(t.IntlString("PHONE_WARNING_MESSAGE_MESS")))])])]):t._e(),s("div",{staticClass:"home_buttons"},[t._l(t.AppsHome,(function(e,n){return s("button",{key:e.name,staticClass:"app_btn",class:{select:n===t.currentSelect},style:{background:e.color},on:{click:function(s){return t.openApp(e)}}},[s("div",{staticClass:"app_btn_img",style:{backgroundImage:"url("+e.icons+")"}}),void 0!==e.puce&&0!==e.puce?s("span",{staticClass:"puce"},[t._v(t._s(e.puce))]):t._e()])})),s("div",{staticClass:"btn_menu_ctn"},[s("button",{staticClass:"btn_menu",class:{select:t.AppsHome.length===t.currentSelect},style:{backgroundImage:"url(/html/static/img/icons_app/menu.png)"},on:{click:function(e){return t.openApp({routeName:"menu"})}}})])],2)],1)},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"warningMess_icon"},[s("i",{staticClass:"fa fa-warning"})])}],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_infoBare barre-header"},[s("span",{staticClass:"reseau"},[t._v(t._s(t.config.reseau))]),s("span",{staticClass:"time"},[s("current-time")],1),s("hr",{staticClass:"batterie1"}),s("hr",{staticClass:"batterie2"}),s("hr",{staticClass:"barre1"}),s("hr",{staticClass:"barre2"}),s("hr",{staticClass:"barre3"}),s("hr",{staticClass:"barre4"})])},_=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t._v(t._s(t.time))])},C=[],b={data(){return{time:"",myInterval:0}},methods:{updateTime:function(){var t=new Date,e=t.getMinutes();e=e>9?e:"0"+e;var s=t.getHours();s=s>9?s:"0"+s;var n=s+":"+e;this.time=n}},created:function(){this.updateTime(),this.myInterval=setInterval(this.updateTime,1e3)},beforeDestroy:function(){clearInterval(this.myInterval)}},S=b,v=Object(u["a"])(S,w,C,!1,null,"4f33d161",null),y=v.exports,k={computed:Object(a["c"])(["config"]),components:{CurrentTime:y}},T=k,E=(s("4d12"),Object(u["a"])(T,f,_,!1,null,"3f34cf1b",null)),A=E.exports,I={components:{InfoBare:A},data(){return{currentSelect:0}},computed:{...Object(a["c"])(["IntlString","useMouse","nbMessagesUnread","backgroundURL","messages","AppsHome","warningMessageCount"])},methods:{...Object(a["b"])(["closePhone","setMessages"]),onLeft(){this.currentSelect=(this.currentSelect+this.AppsHome.length)%(this.AppsHome.length+1)},onRight(){this.currentSelect=(this.currentSelect+1)%(this.AppsHome.length+1)},onUp(){this.currentSelect=Math.max(this.currentSelect-4,0)},onDown(){this.currentSelect=Math.min(this.currentSelect+4,this.AppsHome.length)},openApp(t){this.$router.push({name:t.routeName})},onEnter(){this.openApp(this.AppsHome[this.currentSelect]||{routeName:"menu"})},onBack(){this.closePhone()}},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowLeft",this.onLeft),this.$bus.$on("keyUpArrowRight",this.onRight),this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBack)},beforeDestroy(){this.$bus.$off("keyUpArrowLeft",this.onLeft),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},P=I,$=(s("5c1c"),Object(u["a"])(P,m,g,!1,null,"d3085f32",null)),N=$.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("div",{staticClass:"backblur",style:{background:"url("+t.backgroundURL+")"}}),s("InfoBare",{staticClass:"infobare"}),s("div",{staticClass:"menu",on:{click:t.onBack}},[s("div",{staticClass:"menu_content"},[s("div",{staticClass:"menu_buttons"},t._l(t.Apps,(function(e,n){return s("button",{key:e.name,staticClass:"app_btn",class:{select:n===t.currentSelect},style:{background:e.color},on:{click:function(s){return s.stopPropagation(),t.openApp(e)}}},[s("div",{staticClass:"app_btn_img",style:{backgroundImage:"url("+e.icons+")"}}),s("span",{staticClass:"app_btn_name",style:{visibility:e.menuTitle}},[t._v(" "+t._s(e.intlName)+" ")]),void 0!==e.puce&&0!==e.puce?s("span",{staticClass:"puce"},[t._v(t._s(e.puce))]):t._e()])})),0)])])],1)},U=[],O={components:{InfoBare:A},data:function(){return{currentSelect:0}},computed:{...Object(a["c"])(["nbMessagesUnread","backgroundURL","Apps","useMouse"])},methods:{...Object(a["c"])(["closePhone"]),onLeft:function(){const t=Math.floor(this.currentSelect/4),e=(this.currentSelect+4-1)%4+4*t;this.currentSelect=Math.min(e,this.Apps.length-1)},onRight:function(){const t=Math.floor(this.currentSelect/4);let e=(this.currentSelect+1)%4+4*t;e>=this.Apps.length&&(e=4*t),this.currentSelect=e},onUp:function(){let t=this.currentSelect-4;if(t<0){const e=this.currentSelect%4;t=4*Math.floor((this.Apps.length-1)/4),this.currentSelect=Math.min(t+e,this.Apps.length-1)}else this.currentSelect=t},onDown:function(){const t=this.currentSelect%4;let e=this.currentSelect+4;e>=this.Apps.length&&(e=t),this.currentSelect=e},openApp(t){this.$router.push({name:t.routeName})},onEnter(){this.openApp(this.Apps[this.currentSelect])},onBack:function(){this.$router.push({name:"home"})}},mounted(){},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowLeft",this.onLeft),this.$bus.$on("keyUpArrowRight",this.onRight),this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBack)},beforeDestroy(){this.$bus.$off("keyUpArrowLeft",this.onLeft),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},x=O,L=(s("923e"),Object(u["a"])(x,M,U,!1,null,"544cd9ea",null)),D=L.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contact"},[s("list",{attrs:{list:t.lcontacts,disable:t.disableList,title:t.IntlString("APP_CONTACT_TITLE")},on:{back:t.back,select:t.onSelect,option:t.onOption}})],1)},B=[],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[t.showHeader?s("PhoneTitle",{attrs:{title:t.title,showInfoBare:t.showInfoBare},on:{back:t.back}}):t._e(),s("div",{staticClass:"phone_content elements"},t._l(t.list,(function(e,n){return s("div",{key:e[t.keyDispay],staticClass:"element",class:{select:n===t.currentSelect},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)},contextmenu:function(s){return s.preventDefault(),t.optionItem(e)}}},[s("div",{staticClass:"elem-pic",style:t.stylePuce(e),on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._v(" "+t._s(e.letter||e[t.keyDispay][0])+" ")]),void 0!==e.puce&&0!==e.puce?s("div",{staticClass:"elem-puce",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._v(t._s(e.puce))]):t._e(),void 0===e.keyDesc||""===e.keyDesc?s("div",{staticClass:"elem-title",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._v(t._s(e[t.keyDispay]))]):t._e(),void 0!==e.keyDesc&&""!==e.keyDesc?s("div",{staticClass:"elem-title-has-desc",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._v(t._s(e[t.keyDispay]))]):t._e(),void 0!==e.keyDesc&&""!==e.keyDesc?s("div",{staticClass:"elem-description",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._v(t._s(e.keyDesc))]):t._e()])})),0)],1)},j=[],F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_title_content",class:{hasInfoBare:t.showInfoBare},style:t.style},[t.showInfoBare?s("InfoBare"):t._e(),s("div",{staticClass:"phone_title",style:{backgroundColor:t.backgroundColor}},[s("button",{staticClass:"btn-back",on:{click:function(e){return e.stopPropagation(),t.back(e)}}},[s("i",{staticClass:"fa fa-arrow-left",on:{click:function(e){return e.stopPropagation(),t.back(e)}}})]),t._v(" "+t._s(t.title)+" ")])],1)},V=[],G={components:{InfoBare:A},computed:{...Object(a["c"])(["themeColor"]),style(){return{backgroundColor:this.backgroundColor||this.themeColor,color:this.color||"#FFF"}}},methods:{back(){this.$emit("back")}},props:{title:{type:String,required:!0},showInfoBare:{type:Boolean,default:!0},backgroundColor:{type:String}}},q=G,W=Object(u["a"])(q,F,V,!1,null,"deea7652",null),z=W.exports,Z={name:"hello",components:{PhoneTitle:z,InfoBare:A},data:function(){return{currentSelect:0}},props:{title:{type:String,default:"Title"},showHeader:{type:Boolean,default:!0},showInfoBare:{type:Boolean,default:!0},list:{type:Array,required:!0},color:{type:String,default:"#FFFFFF"},backgroundColor:{type:String,default:"#4CAF50"},keyDispay:{type:String,default:"display"},disable:{type:Boolean,default:!1},titleBackgroundColor:{type:String,default:"#FFFFFF"}},watch:{list:function(){this.currentSelect=0}},computed:{...Object(a["c"])(["useMouse"])},methods:{styleTitle:function(){return{color:this.color,backgroundColor:this.backgroundColor}},stylePuce(t){return t=t||{},void 0!==t.icon?{backgroundImage:`url(${t.icon})`,backgroundSize:"cover",color:"rgba(0,0,0,0)"}:{color:t.color||this.color,backgroundColor:t.backgroundColor||this.backgroundColor,borderRadius:"50%"}},scrollIntoViewIfNeeded:function(){this.$nextTick(()=>{document.querySelector(".select").scrollIntoViewIfNeeded()})},onUp:function(){!0!==this.disable&&(this.currentSelect=0===this.currentSelect?this.list.length-1:this.currentSelect-1,this.scrollIntoViewIfNeeded())},onDown:function(){!0!==this.disable&&(this.currentSelect=this.currentSelect===this.list.length-1?0:this.currentSelect+1,this.scrollIntoViewIfNeeded())},selectItem(t){this.$emit("select",t)},optionItem(t){this.$emit("option",t)},back(){this.$emit("back")},onRight:function(){!0!==this.disable&&this.$emit("option",this.list[this.currentSelect])},onEnter:function(){!0!==this.disable&&this.$emit("select",this.list[this.currentSelect])}},created:function(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpArrowRight",this.onRight),this.$bus.$on("keyUpEnter",this.onEnter))},beforeDestroy:function(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpEnter",this.onEnter)}},K=Z,J=(s("884d"),Object(u["a"])(K,H,j,!1,null,"68425e12",null)),Y=J.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask",on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[s("div",{staticClass:"modal-container"},t._l(t.choix,(function(e,n){return s("div",{key:n,staticClass:"modal-choix",class:{select:n===t.currentSelect},style:{color:e.color},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("i",{staticClass:"fas",class:e.icons,on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}}),t._v(t._s(e.title)+" ")])})),0)])])},X=[];const tt={video:!1,audio:!0};class et{constructor(t){this.myPeerConnection=null,this.candidates=[],this.listener={},this.myCandidates=[],this.audio=new Audio,this.offer=null,this.answer=null,this.initiator=null,this.RTCConfig=t}async init(){await this.close(),this.myPeerConnection=new RTCPeerConnection(this.RTCConfig),this.stream=await navigator.mediaDevices.getUserMedia(tt)}newConnection(){this.close(),this.candidates=[],this.myCandidates=[],this.listener={},this.offer=null,this.answer=null,this.initiator=null,this.myPeerConnection=new RTCPeerConnection(this.RTCConfig),this.myPeerConnection.onaddstream=this.onaddstream.bind(this)}close(){null!==this.myPeerConnection&&this.myPeerConnection.close(),this.myPeerConnection=null}async prepareCall(){return await this.init(),this.newConnection(),this.initiator=!0,this.myPeerConnection.addStream(this.stream),this.myPeerConnection.onicecandidate=this.onicecandidate.bind(this),this.offer=await this.myPeerConnection.createOffer(),this.myPeerConnection.setLocalDescription(this.offer),btoa(JSON.stringify(this.offer))}async acceptCall(t){const e=JSON.parse(atob(t.rtcOffer));return this.newConnection(),this.initiator=!1,this.stream=await navigator.mediaDevices.getUserMedia(tt),this.myPeerConnection.onicecandidate=this.onicecandidate.bind(this),this.myPeerConnection.addStream(this.stream),this.offer=new RTCSessionDescription(e),this.myPeerConnection.setRemoteDescription(this.offer),this.answer=await this.myPeerConnection.createAnswer(),this.myPeerConnection.setLocalDescription(this.answer),btoa(JSON.stringify(this.answer))}async onReceiveAnswer(t){const e=JSON.parse(atob(t));this.answer=new RTCSessionDescription(e),this.myPeerConnection.setRemoteDescription(this.answer)}onicecandidate(t){if(void 0!==t.candidate&&(this.myCandidates.push(t.candidate),void 0!==this.listener["onCandidate"])){const t=this.getAvailableCandidates();for(let e of this.listener["onCandidate"])e(t)}}getAvailableCandidates(){const t=btoa(JSON.stringify(this.myCandidates));return this.myCandidates=[],t}addIceCandidates(t){if(null!==this.myPeerConnection){const e=JSON.parse(atob(t));e.forEach(t=>{null!==t&&this.myPeerConnection.addIceCandidate(t)})}}addEventListener(t,e){"onCandidate"===t&&(void 0===this.listener[t]&&(this.listener[t]=[]),this.listener[t].push(e),e(this.getAvailableCandidates()))}onaddstream(t){this.audio.srcObject=t.stream,this.audio.play()}}(async function(){})();var st=et,nt=s("9a43");const ot=Object.keys(nt);let it=!1;const at="https://gcphone/";class rt{constructor(){window.addEventListener("message",t=>{const e=t.data.event;void 0!==e&&"function"===typeof this["on"+e]?this["on"+e](t.data):void 0!==t.data.show&&ie.commit("SET_PHONE_VISIBILITY",t.data.show)}),this.config=null,this.voiceRTC=null,this.soundList={}}async post(t,e){const s=void 0===e?"{}":JSON.stringify(e),n=await window.jQuery.post(at+t,s);return JSON.parse(n)}async log(...t){return this.post("log",t)}convertEmoji(t){for(const e of ot)t=t.replace(new RegExp(`:${e}:`,"g"),nt[e]);return t}async sendMessage(t,e,s){return this.post("sendMessage",{phoneNumber:t,message:e,gpsData:s})}async deleteMessage(t){return this.post("deleteMessage",{id:t})}async deleteMessagesNumber(t){return this.post("deleteMessageNumber",{number:t})}async deleteAllMessages(){return this.post("deleteAllMessage")}async setMessageRead(t){return this.post("setReadMessageNumber",{number:t})}async updateContact(t,e,s){return this.post("updateContact",{id:t,display:e,phoneNumber:s})}async addContact(t,e){return this.post("addContact",{display:t,phoneNumber:e})}async deleteContact(t){return this.post("deleteContact",{id:t})}async appelsDeleteHistorique(t){return this.post("appelsDeleteHistorique",{numero:t})}async appelsDeleteAllHistorique(){return this.post("appelsDeleteAllHistorique")}async closePhone(){return this.post("closePhone")}async setUseMouse(t){return this.post("useMouse",t)}async setGPS(t,e){return this.post("setGPS",{x:t,y:e})}async takePhoto(){ie.commit("SET_TEMPO_HIDE",!0);const t=await this.post("takePhoto",{url:this.config.fileUploadService_Url,field:this.config.fileUploadService_Field});return ie.commit("SET_TEMPO_HIDE",!1),t}async getReponseText(t){return this.post("reponseText",t||{})}async faketakePhoto(){return this.post("faketakePhoto")}async callEvent(t,e){return this.post("callEvent",{eventName:t,data:e})}async deleteALL(){return localStorage.clear(),ie.dispatch("tchatReset"),ie.dispatch("notesReset"),ie.dispatch("resetPhone"),ie.dispatch("resetMessage"),ie.dispatch("resetContact"),ie.dispatch("resetBourse"),ie.dispatch("resetAppels"),this.post("deleteALL")}async getConfig(){if(null===this.config){const t=await window.jQuery.get("/html/static/config/config.json");this.config=JSON.parse(t),!0===this.config.useWebRTCVocal&&(this.voiceRTC=new st(this.config.RTCConfig),it=!0),this.notififyUseRTC(this.config.useWebRTCVocal)}return this.config}async onsetEnableApp(t){ie.dispatch("setEnableApp",t)}async setIgnoreFocus(t){this.post("setIgnoreFocus",{ignoreFocus:t})}async tchatGetMessagesChannel(t){this.post("tchat_getChannel",{channel:t})}async tchatSendMessage(t,e){this.post("tchat_addMessage",{channel:t,message:e})}async notesGetMessagesChannel(t){window.localStorage.setItem("gc_notas_locales",t)}async notesSendMessage(t,e){this.post("notes_addMessage",{channel:t,message:e})}onupdateMyPhoneNumber(t){ie.commit("SET_MY_PHONE_NUMBER",t.myPhoneNumber)}onupdateMessages(t){ie.commit("SET_MESSAGES",t.messages)}onnewMessage(t){ie.commit("ADD_MESSAGE",t.message)}onupdateContacts(t){ie.commit("SET_CONTACTS",t.contacts)}onhistoriqueCall(t){ie.commit("SET_APPELS_HISTORIQUE",t.historique)}onupdateBankbalance(t){ie.commit("SET_BANK_AMONT",t.banking)}onupdateBourse(t){ie.commit("SET_BOURSE_INFO",t.bourse)}async startCall(t,e){if(!0===it){const s=await this.voiceRTC.prepareCall();return this.post("startCall",{numero:t,rtcOffer:s,extraData:e})}return this.post("startCall",{numero:t,extraData:e})}async acceptCall(t){if(!0===it){const e=await this.voiceRTC.acceptCall(t);return this.post("acceptCall",{infoCall:t,rtcAnswer:e})}return this.post("acceptCall",{infoCall:t})}async rejectCall(t){return this.post("rejectCall",{infoCall:t})}async notififyUseRTC(t){return this.post("notififyUseRTC",t)}onwaitingCall(t){ie.commit("SET_APPELS_INFO_IF_EMPTY",{...t.infoCall,initiator:t.initiator})}onacceptCall(t){!0===it&&(!0===t.initiator&&this.voiceRTC.onReceiveAnswer(t.infoCall.rtcAnswer),this.voiceRTC.addEventListener("onCandidate",e=>{this.post("onCandidates",{id:t.infoCall.id,candidates:e})})),ie.commit("SET_APPELS_INFO_IS_ACCEPTS",!0)}oncandidatesAvailable(t){this.voiceRTC.addIceCandidates(t.candidates)}onrejectCall(){null!==this.voiceRTC&&this.voiceRTC.close(),ie.commit("SET_APPELS_INFO",null)}ontchat_receive(t){ie.dispatch("tchatAddMessage",t)}ontchat_channel(t){ie.commit("TCHAT_SET_MESSAGES",t)}onnotes_receive(t){ie.dispatch("notesAddMessage",t)}onnotes_channel(t){ie.commit("NOTES_SET_MESSAGES",t)}onautoStartCall(t){this.startCall(t.number,t.extraData)}onautoAcceptCall(t){ie.commit("SET_APPELS_INFO",t.infoCall),this.acceptCall(t.infoCall)}twitter_login(t,e){this.post("twitter_login",{username:t,password:e})}twitter_changePassword(t,e,s){this.post("twitter_changePassword",{username:t,password:e,newPassword:s})}twitter_createAccount(t,e,s){this.post("twitter_createAccount",{username:t,password:e,avatarUrl:s})}twitter_postTweet(t,e,s){this.post("twitter_postTweet",{username:t,password:e,message:s})}twitter_postTweetImg(t,e,s){this.post("twitter_postTweetImg",{username:t,password:e,message:s})}twitter_toggleLikeTweet(t,e,s){this.post("twitter_toggleLikeTweet",{username:t,password:e,tweetId:s})}twitter_setAvatar(t,e,s){this.post("twitter_setAvatarUrl",{username:t,password:e,avatarUrl:s})}twitter_getTweets(t,e){this.post("twitter_getTweets",{username:t,password:e})}twitter_getFavoriteTweets(t,e){this.post("twitter_getFavoriteTweets",{username:t,password:e})}ontwitter_tweets(t){ie.commit("SET_TWEETS",t)}ontwitter_favoritetweets(t){ie.commit("SET_FAVORITE_TWEETS",t)}ontwitter_newTweet(t){ie.dispatch("addTweet",t.tweet)}ontwitter_setAccount(t){ie.dispatch("setAccount",t)}ontwitter_updateTweetLikes(t){ie.commit("UPDATE_TWEET_LIKE",t)}ontwitter_setTweetLikes(t){ie.commit("UPDATE_TWEET_ISLIKE",t)}ontwitter_showError(t){n["a"].notify({title:ie.getters.IntlString(t.title,""),message:ie.getters.IntlString(t.message),icon:"twitter",backgroundColor:"#e0245e80"})}ontwitter_showSuccess(t){n["a"].notify({title:ie.getters.IntlString(t.title,""),message:ie.getters.IntlString(t.message),icon:"twitter"})}onplaySound({sound:t,volume:e=1}){var s="/html/static/sound/"+t;t&&(void 0!==this.soundList[t]?this.soundList[t].volume=e:(this.soundList[t]=new r["Howl"]({src:s,volume:e,loop:!0,onend:function(){console.log("Finished!")}}),this.soundList[t].play()))}onsetSoundVolume({sound:t,volume:e=1}){void 0!==this.soundList[t]&&(this.soundList[t].volume=e)}onstopSound({sound:t}){void 0!==this.soundList[t]&&(this.soundList[t].pause(),delete this.soundList[t])}}const ct=new rt;var lt=ct;const ut={show:!1,tempoHide:!1,myPhoneNumber:"###-####",background:JSON.parse(window.localStorage["gc_background"]||null),coque:JSON.parse(window.localStorage["gc_coque"]||null),sonido:JSON.parse(window.localStorage["gc_sonido"]||null),zoom:window.localStorage["gc_zoom"]||"80%",volume:parseFloat(window.localStorage["gc_volume"])||.6,mouse:"true"===window.localStorage["gc_mouse"],lang:window.localStorage["gc_language"],config:{reseau:"ReIgnited Mobile",useFormatNumberFrance:!1,apps:[],themeColor:"#2A56C6",colors:["#2A56C6"],language:{}}};lt.setUseMouse(ut.mouse);const ht={show:({show:t})=>t,tempoHide:({tempoHide:t})=>t,myPhoneNumber:({myPhoneNumber:t})=>t,volume:({volume:t})=>t,enableTakePhoto:({config:t})=>!0===t.enableTakePhoto,background:({background:t,config:e})=>null===t?void 0!==e.background_default?e.background_default:{label:"Default",value:"default.jpg"}:t,backgroundLabel:(t,e)=>e.background.label,backgroundURL:(t,e)=>!0===e.background.value.startsWith("https")?e.background.value:"/html/static/img/background/"+e.background.value,coque:({coque:t,config:e})=>null===t?e&&void 0!==e.coque_default?e.coque_default:{label:"base",value:"base.jpg"}:t,sonido:({sonido:t,config:e})=>null===t?e&&void 0!==e.sonido_default?e.sonido_default:{label:"Panters",value:"ring.ogg"}:t,coqueLabel:(t,e)=>e.coque.label,sonidoLabel:(t,e)=>e.sonido.label,zoom:({zoom:t})=>t,useMouse:({mouse:t})=>t,config:({config:t})=>t,warningMessageCount:({config:t})=>t.warningMessageCount||250,useFormatNumberFrance:({config:t})=>t.useFormatNumberFrance,themeColor:({config:t})=>t.themeColor,colors:({config:t})=>t.colors,Apps:({config:t,lang:e},s)=>t.apps.filter(t=>!1!==t.enabled).map(t=>{void 0!==t.puceRef&&(t.puce=s[t.puceRef]);const n=e+"__name";return t.intlName=t[n]||t.name,t}),AppsHome:(t,e)=>e.Apps.filter(t=>!0===t.inHomePage),availableLanguages({config:t}){const e=Object.keys(t.language),s={};for(const n of e)s[t.language[n].NAME]=n;return s},IntlString({config:t,lang:e}){return e=e||t.defaultLanguage,void 0===t.language[e]?t=>t:(s,n)=>t.language[e][s]||n||s}},pt={async loadConfig({commit:t,state:e}){const s=await lt.getConfig(),o=Object.keys(s.language);for(const i of o){const t=s.language[i].TIMEAGO;void 0!==t&&n["a"].prototype.$timeago.addLocale(i,t)}n["a"].prototype.$timeago.setCurrentLocale(e.lang),void 0!==s.defaultContacts&&t("SET_DEFAULT_CONTACTS",s.defaultContacts),t("SET_CONFIG",s)},setEnableApp({commit:t},{appName:e,enable:s=!0}){t("SET_APP_ENABLE",{appName:e,enable:s})},setVisibility({commit:t},e){t("SET_PHONE_VISIBILITY",e)},setZoon({commit:t},e){window.localStorage["gc_zoom"]=e,t("SET_ZOOM",e)},setBackground({commit:t},e){window.localStorage["gc_background"]=JSON.stringify(e),t("SET_BACKGROUND",e)},setCoque({commit:t},e){window.localStorage["gc_coque"]=JSON.stringify(e),t("SET_COQUE",e)},setSonido({commit:t},e){window.localStorage["gc_sonido"]=JSON.stringify(e),t("SET_SONIDO",e)},setVolume({commit:t},e){window.localStorage["gc_volume"]=e,t("SET_VOLUME",e)},setLanguage({commit:t},e){window.localStorage["gc_language"]=e,n["a"].prototype.$timeago.setCurrentLocale(e),t("SET_LANGUAGE",e)},setMouseSupport({commit:t},e){window.localStorage["gc_mouse"]=e,lt.setUseMouse(e),t("SET_MOUSE_SUPPORT",e)},closePhone(){lt.closePhone()},resetPhone({dispatch:t,getters:e}){t("setZoon","100%"),t("setVolume",1),t("setBackground",e.config.background_default),t("setCoque",e.config.coque_default),t("setSonido",e.config.sonido_default),t("setLanguage",e.config.defaultLanguage)}},dt={SET_CONFIG(t,e){t.config=e},SET_APP_ENABLE(t,{appName:e,enable:s}){const o=t.config.apps.findIndex(t=>t.name===e);-1!==o&&n["a"].set(t.config.apps[o],"enabled",s)},SET_PHONE_VISIBILITY(t,e){t.show=e,t.tempoHide=!1},SET_TEMPO_HIDE(t,e){t.tempoHide=e},SET_MY_PHONE_NUMBER(t,e){t.myPhoneNumber=e},SET_BACKGROUND(t,e){t.background=e},SET_COQUE(t,e){t.coque=e},SET_SONIDO(t,e){t.sonido=e},SET_ZOOM(t,e){t.zoom=e},SET_VOLUME(t,e){t.volume=e},SET_LANGUAGE(t,e){t.lang=e},SET_MOUSE_SUPPORT(t,e){t.mouse=e}};var mt={state:ut,getters:ht,actions:pt,mutations:dt};const gt={contacts:[],defaultContacts:[]},ft={contacts:({contacts:t,defaultContacts:e})=>[...t,...e]},_t={updateContact(t,{id:e,display:s,number:n}){lt.updateContact(e,s,n)},addContact(t,{display:e,number:s}){lt.addContact(e,s)},deleteContact(t,{id:e}){lt.deleteContact(e)},resetContact({commit:t}){t("SET_CONTACTS",[])}},wt={SET_CONTACTS(t,e){t.contacts=e.sort((t,e)=>t.display.localeCompare(e.display))},SET_DEFAULT_CONTACTS(t,e){t.defaultContacts=e}};var Ct={state:gt,getters:ft,actions:_t,mutations:wt};const bt={messages:[]},St={messages:({messages:t})=>t,nbMessagesUnread:({messages:t})=>t.filter(t=>1!==t.isRead).length},vt={setMessages({commit:t},e){t("SET_MESSAGES",e)},sendMessage({phoneNumber:t,message:e,gpsData:s}){lt.sendMessage(t,e,s)},deleteMessage({id:t}){lt.deleteMessage(t)},deleteMessagesNumber({commit:t,state:e},{num:s}){lt.deleteMessagesNumber(s),t("SET_MESSAGES",e.messages.filter(t=>t.transmitter!==s))},deleteAllMessages({commit:t}){lt.deleteAllMessages(),t("SET_MESSAGES",[])},setMessageRead({commit:t},e){lt.setMessageRead(e),t("SET_MESSAGES_READ",{num:e})},resetMessage({commit:t}){t("SET_MESSAGES",[])}},yt={SET_MESSAGES(t,e){t.messages=e},ADD_MESSAGE(t,e){t.messages.push(e)},SET_MESSAGES_READ(t,{num:e}){for(let s=0;s<t.messages.length;s+=1)t.messages[s].transmitter===e&&1!==t.messages[s].isRead&&(t.messages[s].isRead=1)}};var kt={state:bt,getters:St,actions:vt,mutations:yt};const Tt={appelsHistorique:[],appelsInfo:null},Et={appelsHistorique:({appelsHistorique:t})=>t,appelsInfo:({appelsInfo:t})=>t,appelsDisplayName(t,e){if(null===t.appelsInfo)return"ERROR";if(!0===t.appelsInfo.hidden)return e.IntlString("APP_PHONE_NUMBER_HIDDEN");const s=e.appelsDisplayNumber,n=e.contacts.find(t=>t.number===s)||{};return n.display||e.IntlString("APP_PHONE_NUMBER_UNKNOWN")},appelsDisplayNumber(t,e){return null===t.appelsInfo?"ERROR":!0===e.isInitiatorCall?t.appelsInfo.receiver_num:!0===t.appelsInfo.hidden?"###-####":t.appelsInfo.transmitter_num},isInitiatorCall(t){return null!==t.appelsInfo&&!0===t.appelsInfo.initiator}},At={startCall({numero:t}){lt.startCall(t)},acceptCall({state:t}){lt.acceptCall(t.appelsInfo)},rejectCall({state:t}){lt.rejectCall(t.appelsInfo)},ignoreCall({commit:t}){t("SET_APPELS_INFO",null)},appelsDeleteHistorique({commit:t,state:e},{numero:s}){lt.appelsDeleteHistorique(s),t("SET_APPELS_HISTORIQUE",e.appelsHistorique.filter(t=>t.num!==s))},appelsDeleteAllHistorique({commit:t}){lt.appelsDeleteAllHistorique(),t("SET_APPELS_HISTORIQUE",[])},resetAppels({commit:t}){t("SET_APPELS_HISTORIQUE",[]),t("SET_APPELS_INFO",null)}},It={SET_APPELS_HISTORIQUE(t,e){t.appelsHistorique=e},SET_APPELS_INFO_IF_EMPTY(t,e){null===t.appelsInfo&&(t.appelsInfo=e)},SET_APPELS_INFO(t,e){t.appelsInfo=e},SET_APPELS_INFO_IS_ACCEPTS(t,e){null!==t.appelsInfo&&(t.appelsInfo=Object.assign({},t.appelsInfo,{is_accepts:e}))}};var Pt={state:Tt,getters:Et,actions:At,mutations:It};const $t={bankAmont:"0"},Nt={bankAmont:({bankAmont:t})=>t},Mt={sendpara({id:t,amount:e}){lt.callEvent("gcphone:bankTransfer",{id:t,amount:e})}},Ut={SET_BANK_AMONT(t,e){t.bankAmont=e}};var Ot={state:$t,getters:Nt,actions:Mt,mutations:Ut};const xt="gc_notes_channels";let Lt=null;const Dt={channels:JSON.parse(localStorage[xt]||null)||[],currentChannel:null,messagesChannel:[]},Rt={notesChannels:({channels:t})=>t,notesCurrentChannel:({currentChannel:t})=>t,notesMessages:({messagesChannel:t})=>t},Bt={notesReset({commit:t}){t("NOTES_SET_MESSAGES",{messages:[]}),t("NOTES_SET_CHANNEL",{channel:null}),t("NOTES_REMOVES_ALL_CHANNELS")},notesSetChannel({state:t,commit:e,dispatch:s},{channel:n}){t.currentChannel!==n&&(e("NOTES_SET_MESSAGES",{messages:[]}),e("NOTES_SET_CHANNEL",{channel:n}),s("notesGetMessagesChannel",{channel:n}))},notesAddMessage({state:t,commit:e,getters:s},{message:n}){const o=n.channel;void 0!==t.channels.find(t=>t.channel===o)&&(null!==Lt&&(Lt.pause(),Lt=null),Lt=new r["Howl"]({src:"/html/static/sound/tchatNotification.ogg",volume:s.volume}),Lt.play()),e("NOTES_ADD_MESSAGES",{message:n})},notesAddChannel({commit:t},{channel:e}){t("NOTES_ADD_CHANNELS",{channel:e})},notesRemoveChannel({commit:t},{channel:e}){t("NOTES_REMOVES_CHANNELS",{channel:e})},notesGetMessagesChannel({channel:t}){lt.notesGetMessagesChannel(t)},notesSendMessage(t,{channel:e,message:s}){lt.notesSendMessage(e,s)}},Ht={NOTES_SET_CHANNEL(t,{channel:e}){t.currentChannel=e},NOTES_ADD_CHANNELS(t,{channel:e}){t.channels.push({channel:e}),localStorage[xt]=JSON.stringify(t.channels)},NOTES_REMOVES_CHANNELS(t,{channel:e}){t.channels=t.channels.filter(t=>t.channel!==e),localStorage[xt]=JSON.stringify(t.channels)},NOTES_REMOVES_ALL_CHANNELS(t){t.channels=[],localStorage[xt]=JSON.stringify(t.channels)},NOTES_ADD_MESSAGES(t,{message:e}){e.channel===t.currentChannel&&t.messagesChannel.push(e)},NOTES_SET_MESSAGES(t,{messages:e}){t.messagesChannel=e}};var jt={state:Dt,getters:Rt,actions:Bt,mutations:Ht};const Ft={bourseInfo:[]},Vt={bourseInfo:({bourseInfo:t})=>t},Gt={resetBourse({commit:t}){t("SET_BOURSE_INFO",[])}},qt={SET_BOURSE_INFO(t,e){t.bourseInfo=e}};var Wt={state:Ft,getters:Vt,actions:Gt,mutations:qt};const zt="gc_tchat_channels";let Zt=null;const Kt={channels:JSON.parse(localStorage[zt]||null)||[],currentChannel:null,messagesChannel:[]},Jt={tchatChannels:({channels:t})=>t,tchatCurrentChannel:({currentChannel:t})=>t,tchatMessages:({messagesChannel:t})=>t},Yt={tchatReset({commit:t}){t("TCHAT_SET_MESSAGES",{messages:[]}),t("TCHAT_SET_CHANNEL",{channel:null}),t("TCHAT_REMOVES_ALL_CHANNELS")},tchatSetChannel({state:t,commit:e,dispatch:s},{channel:n}){t.currentChannel!==n&&(e("TCHAT_SET_MESSAGES",{messages:[]}),e("TCHAT_SET_CHANNEL",{channel:n}),s("tchatGetMessagesChannel",{channel:n}))},tchatAddMessage({state:t,commit:e,getters:s},{message:n}){const o=n.channel;void 0!==t.channels.find(t=>t.channel===o)&&(null!==Zt&&(Zt.pause(),Zt=null),Zt=new r["Howl"]({src:"/html/static/sound/tchatNotification.ogg",volume:s.volume}),Zt.play()),e("TCHAT_ADD_MESSAGES",{message:n})},tchatAddChannel({commit:t},{channel:e}){t("TCHAT_ADD_CHANNELS",{channel:e})},tchatRemoveChannel({commit:t},{channel:e}){t("TCHAT_REMOVES_CHANNELS",{channel:e})},tchatGetMessagesChannel({channel:t}){lt.tchatGetMessagesChannel(t)},tchatSendMessage(t,{channel:e,message:s}){lt.tchatSendMessage(e,s)}},Qt={TCHAT_SET_CHANNEL(t,{channel:e}){t.currentChannel=e},TCHAT_ADD_CHANNELS(t,{channel:e}){t.channels.push({channel:e}),localStorage[zt]=JSON.stringify(t.channels)},TCHAT_REMOVES_CHANNELS(t,{channel:e}){t.channels=t.channels.filter(t=>t.channel!==e),localStorage[zt]=JSON.stringify(t.channels)},TCHAT_REMOVES_ALL_CHANNELS(t){t.channels=[],localStorage[zt]=JSON.stringify(t.channels)},TCHAT_ADD_MESSAGES(t,{message:e}){e.channel===t.currentChannel&&t.messagesChannel.push(e)},TCHAT_SET_MESSAGES(t,{messages:e}){t.messagesChannel=e}};var Xt={state:Kt,getters:Jt,actions:Yt,mutations:Qt};const te={twitterUsername:localStorage["gcphone_twitter_username"],twitterPassword:localStorage["gcphone_twitter_password"],twitterAvatarUrl:localStorage["gcphone_twitter_avatarUrl"],twitterNotification:localStorage["gcphone_twitter_notif"]?parseInt(localStorage["gcphone_twitter_notif"]):1,twitterNotificationSound:"false"!==localStorage["gcphone_twitter_notif_sound"],tweets:[],favoriteTweets:[]},ee={twitterUsername:({twitterUsername:t})=>t,twitterPassword:({twitterPassword:t})=>t,twitterAvatarUrl:({twitterAvatarUrl:t})=>t,twitterNotification:({twitterNotification:t})=>t,twitterNotificationSound:({twitterNotificationSound:t})=>t,tweets:({tweets:t})=>t,favoriteTweets:({favoriteTweets:t})=>t},se={twitterCreateNewAccount(t,{username:e,password:s,avatarUrl:n}){lt.twitter_createAccount(e,s,n)},twitterLogin({username:t,password:e}){lt.twitter_login(t,e)},twitterChangePassword({state:t},e){lt.twitter_changePassword(t.twitterUsername,t.twitterPassword,e)},twitterLogout({commit:t}){localStorage.removeItem("gcphone_twitter_username"),localStorage.removeItem("gcphone_twitter_password"),localStorage.removeItem("gcphone_twitter_avatarUrl"),t("UPDATE_ACCOUNT",{username:void 0,password:void 0,avatarUrl:void 0})},twitterSetAvatar({state:t},{avatarUrl:e}){lt.twitter_setAvatar(t.twitterUsername,t.twitterPassword,e)},twitterPostTweet({state:t},{message:e}){/^https?:\/\/.*\.(png|jpg|jpeg|gif)$/.test(e)?lt.twitter_postTweetImg(t.twitterUsername,t.twitterPassword,e):lt.twitter_postTweet(t.twitterUsername,t.twitterPassword,lt.convertEmoji(e))},twitterToogleLike({state:t},{tweetId:e}){lt.twitter_toggleLikeTweet(t.twitterUsername,t.twitterPassword,e)},setAccount({commit:t},e){localStorage["gcphone_twitter_username"]=e.username,localStorage["gcphone_twitter_password"]=e.password,localStorage["gcphone_twitter_avatarUrl"]=e.avatarUrl,t("UPDATE_ACCOUNT",e)},addTweet({commit:t,state:e},s){let o=2===e.twitterNotification;1===e.twitterNotification&&(o=s.message&&-1!==s.message.toLowerCase().indexOf(e.twitterUsername.toLowerCase())),!0===o&&n["a"].notify({message:s.message,title:s.author+" :",icon:"twitter",sound:e.twitterNotificationSound?"Twitter_Sound_Effect.ogg":void 0}),t("ADD_TWEET",{tweet:s})},fetchTweets({state:t}){lt.twitter_getTweets(t.twitterUsername,t.twitterPassword)},fetchFavoriteTweets({state:t}){lt.twitter_getFavoriteTweets(t.twitterUsername,t.twitterPassword)},setTwitterNotification({commit:t},e){localStorage["gcphone_twitter_notif"]=e,t("SET_TWITTER_NOTIFICATION",{notification:e})},setTwitterNotificationSound({commit:t},e){localStorage["gcphone_twitter_notif_sound"]=e,t("SET_TWITTER_NOTIFICATION_SOUND",{notificationSound:e})}},ne={SET_TWITTER_NOTIFICATION(t,{notification:e}){t.twitterNotification=e},SET_TWITTER_NOTIFICATION_SOUND(t,{notificationSound:e}){t.twitterNotificationSound=e},UPDATE_ACCOUNT(t,{username:e,password:s,avatarUrl:n}){t.twitterUsername=e,t.twitterPassword=s,t.twitterAvatarUrl=n},SET_TWEETS(t,{tweets:e}){t.tweets=e},SET_FAVORITE_TWEETS(t,{tweets:e}){t.favoriteTweets=e},ADD_TWEET(t,{tweet:e}){t.tweets=[e,...t.tweets]},UPDATE_TWEET_LIKE(t,{tweetId:e,likes:s}){const n=t.tweets.findIndex(t=>t.id===e);-1!==n&&(t.tweets[n].likes=s);const o=t.favoriteTweets.findIndex(t=>t.id===e);-1!==o&&(t.favoriteTweets[o].likes=s)},UPDATE_TWEET_ISLIKE(t,{tweetId:e,isLikes:s}){const o=t.tweets.findIndex(t=>t.id===e);-1!==o&&n["a"].set(t.tweets[o],"isLikes",s);const i=t.favoriteTweets.findIndex(t=>t.id===e);-1!==i&&n["a"].set(t.favoriteTweets[i],"isLikes",s)}};var oe={state:te,getters:ee,actions:se,mutations:ne};n["a"].use(a["a"]);var ie=new a["a"].Store({modules:{phone:mt,contacts:Ct,messages:kt,appels:Pt,bank:Ot,bourse:Wt,notes:jt,tchat:Xt,twitter:oe},strict:!0}),ae={name:"Modal",store:ie,data(){return{currentSelect:0}},props:{choix:{type:Array,default:()=>[]}},computed:{...Object(a["c"])(["useMouse"])},methods:{scrollIntoViewIfNeeded(){this.$nextTick(()=>{document.querySelector(".modal-choix.select").scrollIntoViewIfNeeded()})},onUp(){this.currentSelect=0===this.currentSelect?0:this.currentSelect-1,this.scrollIntoViewIfNeeded()},onDown(){this.currentSelect=this.currentSelect===this.choix.length-1?this.currentSelect:this.currentSelect+1,this.scrollIntoViewIfNeeded()},selectItem(t){this.$emit("select",t)},onEnter(){this.$emit("select",this.choix[this.currentSelect])},cancel(){this.$emit("cancel")}},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.cancel)},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.cancel)}},re=ae,ce=(s("68e2"),Object(u["a"])(re,Q,X,!1,null,"1bc312e4",null)),le=ce.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-container",on:{click:function(t){t.stopPropagation()}}},[s("h2",{style:{color:t.color}},[t._v(t._s(t.title))]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],ref:"textarea",staticClass:"modal-textarea",class:{oneline:t.limit<=18},style:{borderColor:t.color},attrs:{maxlength:t.limit},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),s("div",{staticClass:"botton-container"},[s("button",{style:{color:t.color},on:{click:t.cancel}},[t._v(" "+t._s(t.IntlString("CANCEL"))+" ")]),s("button",{style:{color:t.color},on:{click:t.valide}},[t._v(" "+t._s(t.IntlString("OK"))+" ")])])])])])},he=[],pe={name:"TextModal",store:ie,data(){return{inputText:""}},props:{title:{type:String,default:()=>""},text:{type:String,default:()=>""},limit:{type:Number,default:255}},computed:{...Object(a["c"])(["IntlString","themeColor"]),color(){return this.themeColor||"#2A56C6"}},methods:{scrollIntoViewIfNeeded(){this.$nextTick(()=>{document.querySelector(".modal-choix.select").scrollIntoViewIfNeeded()})},onUp(){this.currentSelect=0===this.currentSelect?0:this.currentSelect-1,this.scrollIntoViewIfNeeded()},onDown(){this.currentSelect=this.currentSelect===this.choix.length-1?this.currentSelect:this.currentSelect+1,this.scrollIntoViewIfNeeded()},selectItem(t){this.$emit("select",t)},onEnter(){this.$emit("select",this.choix[this.currentSelect])},cancel(){this.$emit("cancel")},valide(){this.$emit("valid",{text:this.inputText})}},created(){this.inputText=this.text},mounted(){this.$nextTick(()=>{this.$refs.textarea.focus()})},beforeDestroy(){}},de=pe,me=(s("00f9"),Object(u["a"])(de,ue,he,!1,null,"63cf2289",null)),ge=me.exports,fe={CreateModal(t={}){return new Promise(e=>{let s=new(n["a"].extend(le))({el:document.createElement("div"),propsData:t});document.querySelector("#app").appendChild(s.$el),s.$on("select",t=>{e(t),s.$el.parentNode.removeChild(s.$el),s.$destroy()}),s.$on("cancel",()=>{e({title:"cancel"}),s.$el.parentNode.removeChild(s.$el),s.$destroy()})})},CreateTextModal(t={}){return!1===ie.getters.useMouse?lt.getReponseText(t):new Promise((e,s)=>{let o=new(n["a"].extend(ge))({el:document.createElement("div"),propsData:t});document.querySelector("#app").appendChild(o.$el),o.$on("valid",t=>{e(t),o.$el.parentNode.removeChild(o.$el),o.$destroy()}),o.$on("cancel",()=>{s("UserCancel"),o.$el.parentNode.removeChild(o.$el),o.$destroy()})})}},_e={components:{List:Y},data(){return{disableList:!1}},computed:{...Object(a["c"])(["IntlString","contacts","useMouse"]),lcontacts(){let t={display:this.IntlString("APP_CONTACT_NEW"),letter:"+",num:"",id:-1};return[t,...this.contacts.map(t=>(t.backgroundColor="#2c3e50",t))]}},methods:{onSelect(t){-1===t.id?this.$router.push({name:"contacts.view",params:{id:t.id}}):this.$router.push({name:"messages.view",params:{number:t.number,display:t.display}})},onOption(t){-1!==t.id&&void 0!==t.id&&(this.disableList=!0,fe.CreateModal({choix:[{id:1,title:this.IntlString("APP_CONTACT_EDIT"),icons:"fa-circle-o",color:"orange"},{id:3,title:"Cancel",icons:"fa-undo"}]}).then(e=>{1===e.id&&this.$router.push({path:"contact/"+t.id}),this.disableList=!1}))},back(){!0!==this.disableList&&this.$router.push({name:"home"})}},created(){this.useMouse||this.$bus.$on("keyUpBackspace",this.back)},beforeDestroy(){this.$bus.$off("keyUpBackspace",this.back)}},we=_e,Ce=(s("c690"),Object(u["a"])(we,R,B,!1,null,"47fe0e51",null)),be=Ce.exports,Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.contact.display},on:{back:t.forceCancel}}),s("div",{staticClass:"phone_content content inputText"},[s("div",{staticClass:"group select",attrs:{"data-type":"text","data-model":"display","data-maxlength":"64"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.display,expression:"contact.display"},{name:"autofocus",rawName:"v-autofocus"}],attrs:{type:"text",maxlength:"64"},domProps:{value:t.contact.display},on:{input:function(e){e.target.composing||t.$set(t.contact,"display",e.target.value)}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"}),s("label",[t._v(t._s(t.IntlString("APP_CONTACT_LABEL_NAME")))])]),s("div",{staticClass:"group inputText",attrs:{"data-type":"text","data-model":"number","data-maxlength":"10"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.number,expression:"contact.number"}],attrs:{type:"text",maxlength:"10"},domProps:{value:t.contact.number},on:{input:function(e){e.target.composing||t.$set(t.contact,"number",e.target.value)}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"}),s("label",[t._v(t._s(t.IntlString("APP_CONTACT_LABEL_NUMBER")))])]),s("div",{staticClass:"group ",staticStyle:{"margin-top":"56px"},attrs:{"data-type":"button","data-action":"save"},on:{click:function(e){return e.stopPropagation(),t.save(e)}}},[s("input",{staticClass:"btn btn-green",attrs:{type:"button",value:t.IntlString("APP_CONTACT_SAVE")},on:{click:function(e){return e.stopPropagation(),t.save(e)}}})]),s("div",{staticClass:"group",attrs:{"data-type":"button","data-action":"cancel"},on:{click:function(e){return e.stopPropagation(),t.forceCancel(e)}}},[s("input",{staticClass:"btn btn-orange",attrs:{type:"button",value:t.IntlString("APP_CONTACT_CANCEL")},on:{click:function(e){return e.stopPropagation(),t.forceCancel(e)}}})]),s("div",{staticClass:"group",attrs:{"data-type":"button","data-action":"deleteC"},on:{click:function(e){return e.stopPropagation(),t.deleteC(e)}}},[s("input",{staticClass:"btn btn-red",attrs:{type:"button",value:t.IntlString("APP_CONTACT_DELETE")},on:{click:function(e){return e.stopPropagation(),t.deleteC(e)}}})])])],1)},ve=[],ye={components:{PhoneTitle:z},data(){return{id:-1,currentSelect:0,ignoreControls:!1,contact:{display:"",number:"",id:-1}}},computed:{...Object(a["c"])(["IntlString","contacts","useMouse"])},methods:{...Object(a["b"])(["updateContact","addContact"]),onUp(){if(!0===this.ignoreControls)return;let t=document.querySelector(".group.select");if(null!==t.previousElementSibling){document.querySelectorAll(".group").forEach(t=>{t.classList.remove("select")}),t.previousElementSibling.classList.add("select");let e=t.previousElementSibling.querySelector("input");null!==e&&e.focus()}},onDown(){if(!0===this.ignoreControls)return;let t=document.querySelector(".group.select");if(null!==t.nextElementSibling){document.querySelectorAll(".group").forEach(t=>{t.classList.remove("select")}),t.nextElementSibling.classList.add("select");let e=t.nextElementSibling.querySelector("input");null!==e&&e.focus()}},onEnter(){if(!0===this.ignoreControls)return;let t=document.querySelector(".group.select");if("text"===t.dataset.type){let e={limit:parseInt(t.dataset.maxlength)||64,text:this.contact[t.dataset.model]||""};this.$phoneAPI.getReponseText(e).then(e=>{this.contact[t.dataset.model]=e.text})}t.dataset.action&&this[t.dataset.action]&&this[t.dataset.action]()},save(){-1===this.id||0===this.id?this.addContact({display:this.contact.display,number:this.contact.number}):this.updateContact({id:this.id,display:this.contact.display,number:this.contact.number}),history.back()},cancel(){!0!==this.ignoreControls&&(!0===this.useMouse&&"BODY"!==document.activeElement.tagName||history.back())},forceCancel(){history.back()},deleteC(){if(-1!==this.id){this.ignoreControls=!0;let t=[{title:"Annuler"},{title:"Annuler"},{title:"Supprimer",color:"red"},{title:"Annuler"},{title:"Annuler"}];fe.CreateModal({choix:t}).then(t=>{this.ignoreControls=!1,"Supprimer"===t.title&&(this.$phoneAPI.deleteContact(this.id),history.back())})}else history.back()}},created(){if(this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.cancel),this.id=parseInt(this.$route.params.id),this.contact.display=this.IntlString("APP_CONTACT_NEW"),this.contact.number=this.$route.params.number,-1!==this.id){const t=this.contacts.find(t=>t.id===this.id);void 0!==t&&(this.contact={id:t.id,display:t.display,number:t.number})}},beforeDestroy:function(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.cancel)}},ke=ye,Te=(s("3579"),Object(u["a"])(ke,Se,ve,!1,null,"475553f8",null)),Ee=Te.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen"},[s("list",{attrs:{list:t.messagesData,disable:t.disableList,title:t.IntlString("APP_MESSAGE_TITLE")},on:{back:t.back,select:t.onSelect,option:t.onOption}})],1)},Ie=[],Pe={components:{List:Y},data(){return{disableList:!1}},methods:{...Object(a["b"])(["deleteMessagesNumber","deleteAllMessages","startCall"]),onSelect:function(t){-1===t.id?this.$router.push({name:"messages.selectcontact"}):this.$router.push({name:"messages.view",params:t})},onOption:function(t){void 0!==t.number&&(this.disableList=!0,fe.CreateModal({choix:[{id:4,title:this.IntlString("APP_PHONE_CALL"),icons:"fa-phone"},{id:5,title:this.IntlString("APP_PHONE_CALL_ANONYMOUS"),icons:"fa-mask"},{id:6,title:this.IntlString("APP_MESSAGE_NEW_MESSAGE"),icons:"fa-sms"},{id:1,title:this.IntlString("APP_MESSAGE_ERASE_CONVERSATION"),icons:"fa-trash",color:"orange"},{id:2,title:this.IntlString("APP_MESSAGE_ERASE_ALL_CONVERSATIONS"),icons:"fa-trash",color:"red"}].concat(t.unknowContact?[{id:7,title:this.IntlString("APP_MESSAGE_SAVE_CONTACT"),icons:"fa-save"}]:[]).concat([{id:3,title:this.IntlString("CANCEL"),icons:"fa-undo"}])}).then(e=>{1===e.id?this.deleteMessagesNumber({num:t.number}):2===e.id?this.deleteAllMessages():4===e.id?this.startCall({numero:t.number}):5===e.id?this.startCall({numero:"#"+t.number}):6===e.id?this.$router.push({name:"messages.view",params:t}):7===e.id&&this.$router.push({name:"contacts.view",params:{id:0,number:t.number}}),this.disableList=!1}))},back:function(){!0!==this.disableList&&this.$router.push({name:"home"})}},computed:{...Object(a["c"])(["IntlString","useMouse","contacts","messages"]),messagesData:function(){let t=this.messages,e=this.contacts,s=t.reduce((t,s)=>{if(void 0===t[s["transmitter"]]){const n={noRead:0,lastMessage:0,display:s.transmitter};let o=e.find(t=>t.number===s.transmitter);n.unknowContact=void 0===o,void 0!==o?(n.display=o.display,n.backgroundColor="#2c3e50",n.letter=o.letter,n.icon=o.icon):n.backgroundColor="#2c3e50",t[s["transmitter"]]=n}return 0===s.isRead&&(t[s["transmitter"]].noRead+=1),s.time>=t[s["transmitter"]].lastMessage&&(t[s["transmitter"]].lastMessage=s.time,t[s["transmitter"]].keyDesc=s.message),t},{}),n=[];return Object.keys(s).forEach(t=>{n.push({display:s[t].display,puce:s[t].noRead,number:t,lastMessage:s[t].lastMessage,keyDesc:s[t].keyDesc,backgroundColor:s[t].backgroundColor,icon:s[t].icon,letter:s[t].letter,unknowContact:s[t].unknowContact})}),n.sort((t,e)=>e.lastMessage-t.lastMessage),[this.newMessageOption,...n]},newMessageOption(){return{backgroundColor:"#C0C0C0",display:this.IntlString("APP_MESSAGE_NEW_MESSAGE"),letter:"+",id:-1}}},created(){this.$bus.$on("keyUpBackspace",this.back)},beforeDestroy(){this.$bus.$off("keyUpBackspace",this.back)}},$e=Pe,Ne=(s("6283"),Object(u["a"])($e,Ae,Ie,!1,null,"05fc5f00",null)),Me=Ne.exports,Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app messages"},[s("PhoneTitle",{attrs:{title:t.displayContact},on:{back:t.quit}}),void 0!==t.imgZoom?s("div",{staticClass:"img-fullscreen",on:{click:function(e){e.stopPropagation(),t.imgZoom=void 0}}},[s("img",{attrs:{src:t.imgZoom}})]):t._e(),s("textarea",{ref:"copyTextarea",staticClass:"copyTextarea"}),s("div",{attrs:{id:"sms_list"},on:{contextmenu:function(e){return e.preventDefault(),t.showOptions(e)}}},t._l(t.messagesList,(function(e,n){return s("div",{key:e.id,staticClass:"sms",class:{select:n===t.selectMessage},on:{click:function(s){return s.stopPropagation(),t.onActionMessage(e)}}},[s("span",{staticClass:"sms_message sms_me",class:{sms_other:0===e.owner},on:{click:function(s){return s.stopPropagation(),t.onActionMessage(e)}}},[t.isSMSImage(e)?s("img",{staticClass:"sms-img",attrs:{src:e.message},on:{click:function(s){return s.stopPropagation(),t.onActionMessage(e)}}}):s("span",{on:{click:function(s){return s.stopPropagation(),t.onActionMessage(e)}}},[t._v(t._s(e.message))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.onActionMessage(e)}}},[s("timeago",{staticClass:"sms_time",attrs:{since:e.time,"auto-update":20}})],1)])])})),0),s("div",{attrs:{id:"sms_write"},on:{contextmenu:function(e){return e.preventDefault(),t.showOptions(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"},{name:"autofocus",rawName:"v-autofocus"}],attrs:{type:"text",placeholder:t.IntlString("APP_MESSAGE_PLACEHOLDER_ENTER_MESSAGE")},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.send(e))},input:function(e){e.target.composing||(t.message=e.target.value)}}}),s("div",{staticClass:"sms_send",on:{click:function(e){return e.stopPropagation(),t.send(e)}}},[s("svg",{attrs:{height:"24",viewBox:"0 0 24 24",width:"24"},on:{click:function(e){return e.stopPropagation(),t.send(e)}}},[s("path",{attrs:{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])])])],1)},Oe=[];function xe(t){let e=t.match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/);return null!==e?{red:parseInt(e[1],10),green:parseInt(e[2],10),blue:parseInt(e[3],10)}:(e=t.match(/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/),null!==e?{red:parseInt(e[1],16),green:parseInt(e[2],16),blue:parseInt(e[3],16)}:void 0)}function Le(t,e){return t.reduce((function(t,s){return(t[s[e]]=t[s[e]]||[]).push(s),t}),{})}function De(t){if(0===t.length||"#"===t[0])return"#D32F2F";const e=t.split("").reduce((t,e)=>(t<<5)-t+e.charCodeAt(0)|0,0);return ie.getters.colors[Math.abs(e)%ie.getters.colors.length]}function Re(t){const e=xe(t);return void 0===e?"#000000":.299*e.red+.587*e.green+.114*e.blue>186?"rgba(0, 0, 0, 0.87)":"#FFFFFF"}var Be={data(){return{ignoreControls:!1,selectMessage:-1,display:"",phoneNumber:"",imgZoom:void 0,message:""}},components:{PhoneTitle:z},methods:{...Object(a["b"])(["setMessageRead","sendMessage","deleteMessage","startCall"]),resetScroll(){this.$nextTick(()=>{let t=document.querySelector("#sms_list");t.scrollTop=t.scrollHeight,this.selectMessage=-1})},scrollIntoViewIfNeeded(){this.$nextTick(()=>{const t=this.$el.querySelector(".select");null!==t&&t.scrollIntoViewIfNeeded()})},quit(){this.$router.go(-1)},onUp:function(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.selectMessage=this.messagesList.length-1:this.selectMessage=0===this.selectMessage?0:this.selectMessage-1,this.scrollIntoViewIfNeeded())},onDown(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.selectMessage=this.messagesList.length-1:this.selectMessage=this.selectMessage===this.messagesList.length-1?this.selectMessage:this.selectMessage+1,this.scrollIntoViewIfNeeded())},onEnter(){!0!==this.ignoreControls&&(-1!==this.selectMessage?this.onActionMessage(this.messagesList[this.selectMessage]):this.$phoneAPI.getReponseText().then(t=>{let e=t.text.trim();""!==e&&this.sendMessage({phoneNumber:this.phoneNumber,message:e})}))},send(){const t=this.message.trim();""!==t&&(this.message="",this.sendMessage({phoneNumber:this.phoneNumber,message:t}))},isSMSImage(t){return/^https?:\/\/.*\.(png|jpg|jpeg|gif)/.test(t.message)},async onActionMessage(t){try{let e=/(-?\d+(\.\d+)?), (-?\d+(\.\d+)?)/.test(t.message),s=/#([0-9]+)/.test(t.message),n=this.isSMSImage(t),o=[{id:"delete",title:this.IntlString("APP_MESSAGE_DELETE"),icons:"fa-trash"},{id:-1,title:this.IntlString("CANCEL"),icons:"fa-undo"}];if(!0===e&&(o=[{id:"gps",title:this.IntlString("APP_MESSAGE_SET_GPS"),icons:"fa-location-arrow"},...o]),!0===s){const e=t.message.match(/#([0-9-]*)/)[1];o=[{id:"num",title:`${this.IntlString("APP_MESSAGE_MESS_NUMBER")} ${e}`,number:e,icons:"fa-phone"},...o]}!0===n&&(o=[{id:"zoom",title:this.IntlString("APP_MESSAGE_ZOOM_IMG"),icons:"fa-search"},...o]),this.ignoreControls=!0;const i=await fe.CreateModal({choix:o});if("delete"===i.id)this.deleteMessage({id:t.id});else if("gps"===i.id){let e=t.message.match(/(-?\d+(\.\d+)?), (-?\d+(\.\d+)?)/);this.$phoneAPI.setGPS(e[1],e[3])}else"num"===i.id?this.$nextTick(()=>{this.onSelectPhoneNumber(i.number)}):"zoom"===i.id&&(this.imgZoom=t.message)}catch(e){}finally{this.ignoreControls=!1,this.selectMessage=-1}},async onSelectPhoneNumber(t){try{this.ignoreControls=!0;let s=[{id:"sms",title:this.IntlString("APP_MESSAGE_MESS_SMS"),icons:"fa-comment"},{id:"call",title:this.IntlString("APP_MESSAGE_MESS_CALL"),icons:"fa-phone"}];s.push({id:"copy",title:this.IntlString("APP_MESSAGE_MESS_COPY"),icons:"fa-copy"}),s.push({id:-1,title:this.IntlString("CANCEL"),icons:"fa-undo"});const n=await fe.CreateModal({choix:s});if("sms"===n.id)this.phoneNumber=t,this.display=void 0;else if("call"===n.id)this.startCall({numero:t});else if("copy"===n.id)try{const e=this.$refs.copyTextarea;e.value=t,e.style.height="20px",e.focus(),e.select(),await document.execCommand("copy"),e.style.height="0"}catch(e){}}catch(s){}finally{this.ignoreControls=!1,this.selectMessage=-1}},onBackspace(){void 0===this.imgZoom?!0!==this.ignoreControls&&(!0===this.useMouse&&"BODY"!==document.activeElement.tagName||(-1!==this.selectMessage?this.selectMessage=-1:this.quit())):this.imgZoom=void 0},async showOptions(){try{this.ignoreControls=!0;let t=[{id:1,title:this.IntlString("APP_MESSAGE_SEND_GPS"),icons:"fa-location-arrow"}];t.push({id:3,title:this.IntlString("APP_MESSAGE_SEND_GPS_REALTIME"),icons:"fa-map-marked-alt"}),this.enableTakePhoto&&t.push({id:2,title:this.IntlString("APP_MESSAGE_SEND_PHOTO"),icons:"fa-picture-o"}),t.push({id:-1,title:this.IntlString("CANCEL"),icons:"fa-undo"});const e=await fe.CreateModal({choix:t});if(1===e.id&&this.sendMessage({phoneNumber:this.phoneNumber,message:"%pos%"}),2===e.id){const{url:t}=await this.$phoneAPI.takePhoto();null!==t&&void 0!==t&&this.sendMessage({phoneNumber:this.phoneNumber,message:t})}if(3===e.id){const t=await fe.CreateModal({choix:[{id:6e4,title:this.IntlString("APP_MESSAGE_SEND_GPS_REALTIME_TIME_1")},{id:3e5,title:this.IntlString("APP_MESSAGE_SEND_GPS_REALTIME_TIME_2")},{id:6e5,title:this.IntlString("APP_MESSAGE_SEND_GPS_REALTIME_TIME_3")}]});t.id>0&&this.sendMessage({phoneNumber:this.phoneNumber,message:"%posrealtime%",gpsData:{time:t.id||1e4}})}this.ignoreControls=!1}catch(t){}finally{this.ignoreControls=!1}},onRight:function(){!0!==this.ignoreControls&&-1===this.selectMessage&&this.showOptions()}},computed:{...Object(a["c"])(["IntlString","messages","contacts","useMouse","enableTakePhoto"]),messagesList(){return this.messages.filter(t=>t.transmitter===this.phoneNumber).sort((t,e)=>t.time-e.time)},displayContact(){if(void 0!==this.display)return this.display;const t=this.contacts.find(t=>t.number===this.phoneNumber);return void 0!==t?t.display:this.phoneNumber},color(){return De(this.phoneNumber)},colorSmsOwner(){return[{backgroundColor:this.color,color:Re(this.color)},{}]}},watch:{messagesList(){this.setMessageRead(this.phoneNumber),this.resetScroll()}},created(){this.display=this.$route.params.display,this.phoneNumber=this.$route.params.number,this.useMouse||(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter),this.$bus.$on("keyUpArrowRight",this.onRight)),this.$bus.$on("keyUpBackspace",this.onBackspace)},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpBackspace",this.onBackspace)}},He=Be,je=(s("c55b"),Object(u["a"])(He,Ue,Oe,!1,null,"3ff2d85a",null)),Fe=je.exports,Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contact"},[s("list",{attrs:{list:t.lcontacts,title:t.IntlString("APP_MESSAGE_CONTACT_TITLE")},on:{select:t.onSelect,back:t.back}})],1)},Ge=[],qe={components:{List:Y},data(){return{}},computed:{...Object(a["c"])(["IntlString","contacts","useMouse"]),lcontacts(){let t={display:this.IntlString("APP_MESSAGE_CONTRACT_ENTER_NUMBER"),letter:"+",backgroundColor:"orange",num:-1};return[t,...this.contacts]}},methods:{onSelect(t){-1===t.num?fe.CreateTextModal({title:this.IntlString("APP_PHONE_ENTER_NUMBER"),limit:10}).then(t=>{let e=t.text.trim();""!==e&&this.$router.push({name:"messages.view",params:{number:e,display:e}})}):this.$router.push({name:"messages.view",params:t})},back(){history.back()}},created(){this.$bus.$on("keyUpBackspace",this.back)},beforeDestroy(){this.$bus.$off("keyUpBackspace",this.back)}},We=qe,ze=(s("437d"),Object(u["a"])(We,Ve,Ge,!1,null,"2eaa3fb9",null)),Ze=ze.exports,Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.IntlString("APP_PHONE_TITLE")},on:{back:t.onBackspace}}),s("div",{staticClass:"content"},[s(t.subMenu[t.currentMenuIndex].Comp,{tag:"component"})],1),s("div",{staticClass:"subMenu"},t._l(t.subMenu,(function(e,n){return s("div",{key:n,staticClass:"subMenu-elem",style:t.getColorItem(n),on:{click:function(e){return t.swapMenu(n)}}},[s("i",{staticClass:"subMenu-icon fa",class:["fa-"+e.icon],on:{click:function(e){return e.stopPropagation(),t.swapMenu(n)}}}),s("span",{staticClass:"subMenu-name",on:{click:function(e){return e.stopPropagation(),t.swapMenu(n)}}},[t._v(t._s(e.name))])])})),0)],1)},Je=[],Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("list",{attrs:{list:t.callList,showHeader:!1,disable:t.ignoreControls},on:{select:t.onSelect}})],1)},Qe=[],Xe={name:"Favoris",components:{List:Y},data(){return{ignoreControls:!1}},computed:{...Object(a["c"])(["config"]),callList(){return this.config.serviceCall||[]}},methods:{onSelect(t){!0!==this.ignoreControls&&(this.ignoreControls=!0,fe.CreateModal({choix:[...t.subMenu,{title:"Cancel"}]}).then(t=>{this.ignoreControls=!1,"Cancel"!==t.title&&(this.$phoneAPI.callEvent(t.eventName,t.type),this.$router.push({name:"home"}))}))}},created(){},beforeDestroy(){}},ts=Xe,es=Object(u["a"])(ts,Ye,Qe,!1,null,"3c8879c7",null),ss=es.exports,ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("list",{attrs:{list:t.contactsList,showHeader:!1},on:{select:t.onSelect}})],1)},os=[],is={name:"Contacts",components:{List:Y},data(){return{}},methods:{...Object(a["b"])(["startCall"]),onSelect(t){void 0!==t&&(!0===t.custom?this.$router.push({name:"appels.number"}):this.startCall({numero:t.number}))}},computed:{...Object(a["c"])(["IntlString","contacts"]),contactsList(){return[{display:this.IntlString("APP_PHONE_ENTER_NUMBER"),letter:"#",backgroundColor:"#D32F2F",custom:!0},...this.contacts.slice(0).map(t=>(t.backgroundColor=De(t.number),t))]}},created(){},beforeDestroy(){}},as=is,rs=Object(u["a"])(as,ns,os,!1,null,"81e70636",null),cs=rs.exports,ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("div",{staticClass:"elements"},t._l(t.historique,(function(e,n){return s("div",{key:n,staticClass:"element",class:{active:t.selectIndex===n},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("div",{staticClass:"elem-pic",style:t.stylePuce(e),on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._v(t._s(e.letter))]),s("div",{staticClass:"elem-content",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("div",{staticClass:"elem-content-p",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._v(t._s(e.display))]),s("div",{staticClass:"elem-content-s",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[t._l(e.lastCall,(function(n,o){return s("div",{key:o,staticClass:"elem-histo-pico",class:{reject:!1===n.accept},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[1===n.accepts&&1===n.incoming?s("svg",{attrs:{viewBox:"0 0 24 24",fill:"#c5c5c7"},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("path",{attrs:{d:"M9,5v2h6.59L4,18.59L5.41,20L17,8.41V15h2V5H9z"}})]):1===n.accepts&&0===n.incoming?s("svg",{attrs:{viewBox:"0 0 24 24",fill:"#c5c5c7"},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("path",{attrs:{d:"M20,5.41L18.59,4L7,15.59V9H5v10h10v-2H8.41L20,5.41z"}})]):0===n.accepts&&1===n.incoming?s("svg",{attrs:{viewBox:"0 0 24 24",fill:"#c5c5c7"},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("path",{attrs:{d:"M3,8.41l9,9l7-7V15h2V7h-8v2h4.59L12,14.59L4.41,7L3,8.41z"},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}})]):0===n.accepts&&0===n.incoming?s("svg",{attrs:{viewBox:"0 0 24 24",fill:"#c5c5c7"},on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("path",{attrs:{d:"M19.59,7L12,14.59L6.41,9H11V7H3v8h2v-4.59l7,7l9-9L19.59,7z"}})]):t._e()])})),0!==e.lastCall.length?s("div",{staticClass:"lastCall"},[s("timeago",{attrs:{since:e.lastCall[0].date,"auto-update":20}})],1):t._e()],2)]),s("div",{staticClass:"elem-icon",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}},[s("i",{staticClass:"fa fa-phone",on:{click:function(s){return s.stopPropagation(),t.selectItem(e)}}})])])})),0)])},us=[],hs={name:"Recents",components:{},data(){return{ignoreControls:!1,selectIndex:0}},methods:{...Object(a["b"])(["startCall","appelsDeleteHistorique","appelsDeleteAllHistorique","addContact"]),getContact(t){const e=this.contacts.find(e=>e.number===t);return e},scrollIntoViewIfNeeded:function(){this.$nextTick(()=>{this.$el.querySelector(".active").scrollIntoViewIfNeeded()})},onUp(){!0!==this.ignoreControls&&(this.selectIndex=Math.max(0,this.selectIndex-1),this.scrollIntoViewIfNeeded())},onDown(){!0!==this.ignoreControls&&(this.selectIndex=Math.min(this.historique.length-1,this.selectIndex+1),this.scrollIntoViewIfNeeded())},async selectItem(t){const e=t.num,s=!1===e.startsWith("#");this.ignoreControls=!0;let n=[{id:1,title:this.IntlString("APP_PHONE_DELETE"),icons:"fa-trash",color:"orange"},{id:2,title:this.IntlString("APP_PHONE_DELETE_ALL"),icons:"fa-trash",color:"red"},{id:3,title:this.IntlString("APP_PHONE_CANCEL"),icons:"fa-undo"},{id:4,title:this.IntlString("APP_PHONE_ADD"),icons:"fa-undo"}];!0===s&&(n=[{id:0,title:this.IntlString("APP_PHONE_CALL"),icons:"fa-phone"},...n]);const o=await fe.CreateModal({choix:n});switch(this.ignoreControls=!1,o.id){case 0:this.startCall({numero:e});break;case 1:this.appelsDeleteHistorique({numero:e});break;case 2:this.appelsDeleteAllHistorique();break;case 4:this.save(e)}},async onEnter(){!0!==this.ignoreControls&&this.selectItem(this.historique[this.selectIndex])},save(t){-1!==this.id?this.addContact({number:t}):console.log("No añadido"),history.back()},stylePuce(t){return t=t||{},void 0!==t.icon?{backgroundImage:`url(${t.icon})`,backgroundSize:"cover",color:"rgba(0,0,0,0)"}:{color:t.color||this.color,backgroundColor:t.backgroundColor||this.backgroundColor,borderRadius:"50%"}}},computed:{...Object(a["c"])(["IntlString","useMouse","appelsHistorique","contacts"]),historique(){let t=Le(this.appelsHistorique,"num"),e=[];for(let s in t){const n=t[s],o=n.map(t=>(t.date=new Date(t.time),t)).sort((t,e)=>e.date-t.date).slice(0,6),i=this.getContact(s)||{letter:"#"};e.push({num:s,display:i.display||s,lastCall:o,letter:i.letter||i.display[0],backgroundColor:i.backgroundColor||De(s),icon:i.icon})}return e.sort((t,e)=>e.lastCall[0].time-t.lastCall[0].time),e}},created(){this.useMouse?this.selectIndex=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter))},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter)}},ps=hs,ds=(s("4b9f"),Object(u["a"])(ps,ls,us,!1,null,"3c729695",null)),ms=ds.exports,gs={components:{PhoneTitle:z},data(){return{currentMenuIndex:1}},computed:{...Object(a["c"])(["IntlString","useMouse","themeColor"]),subMenu(){return[{Comp:ss,name:this.IntlString("APP_PHONE_MENU_FAVORITES"),icon:"star"},{Comp:ms,name:this.IntlString("APP_PHONE_MENU_RECENTS"),icon:"clock"},{Comp:cs,name:this.IntlString("APP_PHONE_MENU_CONTACTS"),icon:"user"}]}},methods:{getColorItem(t){return this.currentMenuIndex===t?{color:this.themeColor}:{}},swapMenu(t){this.currentMenuIndex=t},onLeft(){this.currentMenuIndex=Math.max(this.currentMenuIndex-1,0)},onRight(){this.currentMenuIndex=Math.min(this.currentMenuIndex+1,this.subMenu.length-1)},onBackspace:function(){!0!==this.ignoreControls&&this.$router.push({name:"home"})}},created(){this.useMouse||(this.$bus.$on("keyUpBackspace",this.onBackspace),this.$bus.$on("keyUpArrowLeft",this.onLeft),this.$bus.$on("keyUpArrowRight",this.onRight))},beforeDestroy(){this.$bus.$off("keyUpBackspace",this.onBackspace),this.$bus.$off("keyUpArrowLeft",this.onLeft),this.$bus.$off("keyUpArrowRight",this.onRight)}},fs=gs,_s=(s("0182"),Object(u["a"])(fs,Ke,Je,!1,null,"2e11baba",null)),ws=_s.exports,Cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("div",{staticClass:"backblur",style:{background:"url("+t.backgroundURL+")"}}),s("InfoBare"),s("div",{staticClass:"num"},[t._v(t._s(t.appelsDisplayNumber))]),s("div",{staticClass:"contactName"},[t._v(t._s(t.appelsDisplayName))]),s("div",{staticClass:"time"}),s("div",{staticClass:"time-display"},[t._v(t._s(t.timeDisplay))]),t.useMouse&&0===t.status?s("div",{staticClass:"ignore",on:{click:function(e){return e.stopPropagation(),t.onIgnoreCall(e)}}},[t._v(" "+t._s(t.IntlString("APP_PHONE_CALL_IGNORE"))+" ")]):t._e(),s("div",{staticClass:"actionbox"},[s("div",{staticClass:"action raccrocher",class:{disableTrue:0===t.status&&0!==t.select},on:{click:function(e){return e.stopPropagation(),t.raccrocher(e)}}},[s("svg",{attrs:{viewBox:"0 0 24 24"},on:{click:function(e){return e.stopPropagation(),t.raccrocher(e)}}},[s("g",{attrs:{transform:"rotate(135, 12, 12)"}},[s("path",{attrs:{d:"M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"}})])])]),0===t.status?s("div",{staticClass:"action deccrocher",class:{disableFalse:0===t.status&&1!==t.select},on:{click:function(e){return e.stopPropagation(),t.deccrocher(e)}}},[s("svg",{attrs:{viewBox:"0 0 24 24"},on:{click:function(e){return e.stopPropagation(),t.deccrocher(e)}}},[s("g",{attrs:{transform:"rotate(0, 12, 12)"}},[s("path",{attrs:{d:"M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"}})])])]):t._e()])],1)},bs=[],Ss={components:{InfoBare:A},data(){return{time:-1,intervalNum:void 0,select:-1,status:0}},methods:{...Object(a["b"])(["acceptCall","rejectCall","ignoreCall"]),onBackspace(){1===this.status?this.onRejectCall():this.onIgnoreCall()},onEnter(){0===this.status&&(0===this.select?this.onRejectCall():this.onAcceptCall())},raccrocher(){this.onRejectCall()},deccrocher(){0===this.status&&this.onAcceptCall()},onLeft(){0===this.status&&(this.select=0)},onRight(){0===this.status&&(this.select=1)},updateTime(){this.time+=1},onRejectCall(){this.rejectCall(),this.$phoneAPI.setIgnoreFocus(!1)},onAcceptCall(){this.acceptCall(),this.$phoneAPI.setIgnoreFocus(!0)},onIgnoreCall(){this.ignoreCall(),this.$phoneAPI.setIgnoreFocus(!1),this.$router.push({name:"home"})},startTimer(){void 0===this.intervalNum&&(this.time=0,this.intervalNum=setInterval(this.updateTime,1e3))}},watch:{appelsInfo(){null!==this.appelsInfo&&!0===this.appelsInfo.is_accepts&&(this.status=1,this.$phoneAPI.setIgnoreFocus(!0),this.startTimer())}},computed:{...Object(a["c"])(["IntlString","backgroundURL","useMouse","appelsInfo","appelsDisplayName","appelsDisplayNumber","myPhoneNumber"]),timeDisplay(){if(this.time<0)return". . .";const t=Math.floor(this.time/60);let e=this.time%60;return e<10&&(e="0"+e),`${t}:${e}`}},mounted(){null!==this.appelsInfo&&!0===this.appelsInfo.initiator&&(this.status=1,this.$phoneAPI.setIgnoreFocus(!0))},created(){this.useMouse||(this.$bus.$on("keyUpEnter",this.onEnter),this.$bus.$on("keyUpArrowLeft",this.onLeft),this.$bus.$on("keyUpArrowRight",this.onRight)),this.$bus.$on("keyUpBackspace",this.onBackspace)},beforeDestroy(){this.$bus.$off("keyUpBackspace",this.onBackspace),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpArrowLeft",this.onLeft),this.$bus.$off("keyUpArrowRight",this.onRight),void 0!==this.intervalNum&&window.clearInterval(this.intervalNum),this.$phoneAPI.setIgnoreFocus(!1)}},vs=Ss,ys=(s("ae6b"),Object(u["a"])(vs,Cs,bs,!1,null,"7b6bd97c",null)),ks=ys.exports,Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.IntlString("APP_PHONE_TITLE")},on:{back:t.quit}}),s("div",{staticClass:"content"},[s("div",{staticClass:"number"},[t._v(" "+t._s(t.numeroFormat)+" "),s("span",{staticClass:"deleteNumber",on:{click:function(e){return e.stopPropagation(),t.deleteNumber(e)}}})]),s("div",{staticClass:"keyboard"},t._l(t.keyInfo,(function(e,n){return s("div",{key:e.primary,staticClass:"key",class:{"key-select":n===t.keySelect,keySpe:!0===e.isNotNumber},on:{click:function(s){return s.stopPropagation(),t.onPressKey(e)}}},[s("span",{staticClass:"key-primary",on:{click:function(s){return s.stopPropagation(),t.onPressKey(e)}}},[t._v(t._s(e.primary))]),s("span",{staticClass:"key-secondary",on:{click:function(s){return s.stopPropagation(),t.onPressKey(e)}}},[t._v(t._s(e.secondary))])])})),0),s("div",{staticClass:"call"},[s("div",{staticClass:"call-btn",class:{active:12===t.keySelect},on:{click:function(e){return e.stopPropagation(),t.onPressCall(e)}}},[s("svg",{attrs:{viewBox:"0 0 24 24"},on:{click:function(e){return e.stopPropagation(),t.onPressCall(e)}}},[s("g",{attrs:{transform:"rotate(0, 12, 12)"}},[s("path",{attrs:{d:"M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"}})])])])])])],1)},Es=[],As={components:{PhoneTitle:z},data(){return{numero:"",keyInfo:[{primary:"1",secondary:""},{primary:"2",secondary:"abc"},{primary:"3",secondary:"def"},{primary:"4",secondary:"ghi"},{primary:"5",secondary:"jkl"},{primary:"6",secondary:"mmo"},{primary:"7",secondary:"pqrs"},{primary:"8",secondary:"tuv"},{primary:"9",secondary:"wxyz"},{primary:"-",secondary:"",isNotNumber:!0},{primary:"0",secondary:"+"},{primary:"#",secondary:"",isNotNumber:!0}],keySelect:0}},methods:{...Object(a["b"])(["startCall"]),onLeft(){this.keySelect=Math.max(this.keySelect-1,0)},onRight(){this.keySelect=Math.min(this.keySelect+1,11)},onDown(){this.keySelect=Math.min(this.keySelect+3,12)},onUp(){this.keySelect>2&&(12===this.keySelect?this.keySelect=10:this.keySelect=this.keySelect-3)},onEnter(){12===this.keySelect?this.numero.length>0&&this.startCall({numero:this.numeroFormat}):this.numero+=this.keyInfo[this.keySelect].primary},onBackspace:function(){!0!==this.ignoreControls&&(0!==this.numero.length?this.numero=this.numero.slice(0,-1):history.back())},deleteNumber(){0!==this.numero.length&&(this.numero=this.numero.slice(0,-1))},onPressKey(t){this.numero=this.numero+t.primary},onPressCall(){this.startCall({numero:this.numeroFormat})},quit(){history.back()}},computed:{...Object(a["c"])(["IntlString","useMouse","useFormatNumberFrance"]),numeroFormat(){if(!0===this.useFormatNumberFrance)return this.numero;const t=this.numero.startsWith("#")?4:3;return this.numero.length>t?this.numero.slice(0,t)+"-"+this.numero.slice(t):this.numero}},created(){this.useMouse?this.keySelect=-1:(this.$bus.$on("keyUpBackspace",this.onBackspace),this.$bus.$on("keyUpArrowLeft",this.onLeft),this.$bus.$on("keyUpArrowRight",this.onRight),this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter))},beforeDestroy(){this.$bus.$off("keyUpBackspace",this.onBackspace),this.$bus.$off("keyUpArrowLeft",this.onLeft),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter)}},Is=As,Ps=(s("9f86"),Object(u["a"])(Is,Ts,Es,!1,null,"6870192c",null)),$s=Ps.exports,Ns=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ms=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"splash"},[s("img",{attrs:{src:"/html/static/img/app_tchat/splashtchat.png",alt:""}})])}],Us={created:function(){setTimeout(()=>{this.$router.push({name:"tchat.channel"})},700)}},Os=Us,xs=(s("3c20"),Object(u["a"])(Os,Ns,Ms,!1,null,"53372230",null)),Ls=xs.exports,Ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.IntlString("APP_DARKTCHAT_TITLE"),backgroundColor:"#090f20"},on:{back:t.onBack}}),s("div",{staticClass:"elements",on:{contextmenu:function(e){return e.preventDefault(),t.addChannelOption(e)}}},t._l(t.tchatChannels,(function(e,n){return s("div",{key:e.channel,staticClass:"element",class:{select:n===t.currentSelect},on:{click:function(s){return s.stopPropagation(),t.showChannel(e.channel)}}},[s("div",{staticClass:"elem-title",on:{click:function(s){return s.stopPropagation(),t.showChannel(e.channel)}}},[s("span",{staticClass:"diese"},[t._v("#")]),t._v(" "+t._s(e.channel))])])})),0)],1)},Rs=[],Bs={components:{PhoneTitle:z},data:function(){return{currentSelect:0,ignoreControls:!1}},watch:{list:function(){this.currentSelect=0}},computed:{...Object(a["c"])(["IntlString","useMouse","tchatChannels","Apps"])},methods:{...Object(a["b"])(["tchatAddChannel","tchatRemoveChannel"]),scrollIntoViewIfNeeded(){this.$nextTick(()=>{const t=this.$el.querySelector(".select");null!==t&&t.scrollIntoViewIfNeeded()})},onUp(){!0!==this.ignoreControls&&(this.currentSelect=0===this.currentSelect?0:this.currentSelect-1,this.scrollIntoViewIfNeeded())},onDown(){!0!==this.ignoreControls&&(this.currentSelect=this.currentSelect===this.tchatChannels.length-1?this.currentSelect:this.currentSelect+1,this.scrollIntoViewIfNeeded())},async onRight(){if(!0===this.ignoreControls)return;this.ignoreControls=!0;let t=[{id:1,title:this.IntlString("APP_DARKTCHAT_NEW_CHANNEL"),icons:"fa-plus",color:"green"},{id:2,title:this.IntlString("APP_DARKTCHAT_DELETE_CHANNEL"),icons:"fa-minus",color:"orange"},{id:3,title:this.IntlString("APP_DARKTCHAT_CANCEL"),icons:"fa-undo"}];0===this.tchatChannels.length&&t.splice(1,1);const e=await fe.CreateModal({choix:t});switch(this.ignoreControls=!1,e.id){case 1:this.addChannelOption();break;case 2:this.removeChannelOption();break;case 3:}},async onEnter(){if(!0!==this.ignoreControls)if(0===this.tchatChannels.length){this.ignoreControls=!0;let t=[{id:1,title:this.IntlString("APP_DARKTCHAT_NEW_CHANNEL"),icons:"fa-plus",color:"green"},{id:3,title:this.IntlString("APP_DARKTCHAT_CANCEL"),icons:"fa-undo"}];const e=await fe.CreateModal({choix:t});this.ignoreControls=!1,1===e.id&&this.addChannelOption()}else{const t=this.tchatChannels[this.currentSelect].channel;this.showChannel(t)}},showChannel(t){this.$router.push({name:"tchat.channel.show",params:{channel:t}})},onBack(){!0!==this.ignoreControls&&this.$router.push({name:"home"})},async addChannelOption(){try{const t=await fe.CreateTextModal({limit:20,title:this.IntlString("APP_DARKTCHAT_NEW_CHANNEL")});let e=(t||{}).text||"";e=e.toLowerCase().replace(/[^a-z]/g,""),e.length>0&&(this.currentSelect=0,this.tchatAddChannel({channel:e}))}catch(t){}},async removeChannelOption(){const t=this.tchatChannels[this.currentSelect].channel;this.currentSelect=0,this.tchatRemoveChannel({channel:t})}},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpArrowRight",this.onRight),this.$bus.$on("keyUpEnter",this.onEnter),this.$bus.$on("keyUpBackspace",this.onBack))},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},Hs=Bs,js=(s("cc39"),Object(u["a"])(Hs,Ds,Rs,!1,null,"f8a071e2",null)),Fs=js.exports,Vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.channelName,backgroundColor:"#090f20"},on:{back:t.onQuit}}),s("div",{staticClass:"phone_content"},[s("div",{ref:"elementsDiv",staticClass:"elements"},t._l(t.tchatMessages,(function(e){return s("div",{key:e.id,staticClass:"element"},[s("div",{staticClass:"time"},[t._v(t._s(t.formatTime(e.time)))]),s("div",{staticClass:"message"},[t._v(" "+t._s(e.message)+" ")])])})),0),s("div",{staticClass:"tchat_write"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",placeholder:"..."},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.sendMessage(e))},input:function(e){e.target.composing||(t.message=e.target.value)}}}),s("span",{staticClass:"tchat_send",on:{click:t.sendMessage}},[t._v(">")])])])],1)},Gs=[],qs={components:{PhoneTitle:z},data(){return{message:"",channel:"",currentSelect:0}},computed:{...Object(a["c"])(["tchatMessages","tchatCurrentChannel","useMouse"]),channelName(){return"# "+this.channel}},watch:{tchatMessages(){const t=this.$refs.elementsDiv;t.scrollTop=t.scrollHeight}},methods:{setChannel(t){this.channel=t,this.tchatSetChannel({channel:t})},...Object(a["b"])(["tchatSetChannel","tchatSendMessage"]),scrollIntoViewIfNeeded(){this.$nextTick(()=>{const t=this.$el.querySelector(".select");null!==t&&t.scrollIntoViewIfNeeded()})},onUp(){const t=this.$refs.elementsDiv;t.scrollTop=t.scrollTop-120},onDown(){const t=this.$refs.elementsDiv;t.scrollTop=t.scrollTop+120},async onEnter(){const t=await this.$phoneAPI.getReponseText();if(void 0!==t&&void 0!==t.text){const e=t.text.trim();0!==e.length&&this.tchatSendMessage({channel:this.channel,message:e})}},sendMessage(){const t=this.message.trim();0!==t.length&&(this.tchatSendMessage({channel:this.channel,message:t}),this.message="")},onBack(){!0===this.useMouse&&"BODY"!==document.activeElement.tagName||this.onQuit()},onQuit(){this.$router.push({name:"tchat.channel"})},formatTime(t){const e=new Date(t);return e.toLocaleTimeString()}},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBack),this.setChannel(this.$route.params.channel)},mounted(){window.c=this.$refs.elementsDiv;const t=this.$refs.elementsDiv;t.scrollTop=t.scrollHeight},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},Ws=qs,zs=(s("88f2"),Object(u["a"])(Ws,Vs,Gs,!1,null,"646a3dbb",null)),Zs=zs.exports,Ks=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app",staticStyle:{width:"100%",height:"742px",color:"white"}},[s("PhoneTitle",{attrs:{title:t.IntlString("APP_NOTES"),backgroundColor:"#f8d344",color:"white"},on:{back:t.onBack}}),s("div",{staticClass:"elements",staticStyle:{backgroundColor:"white"},on:{contextmenu:function(e){return e.preventDefault(),t.addChannelOption(e)}}},[s("div",t._l(t.notesChannels,(function(e,n){return s("div",{key:e.channel,staticClass:"elem-title",class:{select:n===t.currentSelect}},[s("h3",{staticStyle:{"margin-left":"7px","font-size":"16px","font-weight":"400"}},[t._v(" "+t._s(e.channel))])])})),0)])],1)},Js=[],Ys={components:{PhoneTitle:z},data:function(){return{currentSelect:0,ignoreControls:!1}},watch:{list:function(){this.currentSelect=0}},computed:{...Object(a["c"])(["IntlString","useMouse","notesChannels","Apps"])},methods:{...Object(a["b"])(["notesAddChannel","notesRemoveChannel"]),scrollIntoViewIfNeeded(){this.$nextTick(()=>{const t=this.$el.querySelector(".select");null!==t&&t.scrollIntoViewIfNeeded()})},onUp(){!0!==this.ignoreControls&&(this.currentSelect=0===this.currentSelect?0:this.currentSelect-1,this.scrollIntoViewIfNeeded())},onDown(){!0!==this.ignoreControls&&(this.currentSelect=this.currentSelect===this.notesChannels.length-1?this.currentSelect:this.currentSelect+1,this.scrollIntoViewIfNeeded())},async onRight(){if(!0===this.ignoreControls)return;this.ignoreControls=!0;let t=[{id:1,title:this.IntlString("APP_DARKTCHAT_NEW_NOTE"),icons:"fa-plus",color:"dodgerblue"},{id:2,title:this.IntlString("APP_DARKTCHAT_DELETE_NOTE"),icons:"fa-minus",color:"tomato"},{id:3,title:this.IntlString("APP_DARKTCHAT_CANCEL"),icons:"fa-undo"}];0===this.notesChannels.length&&t.splice(1,1);const e=await fe.CreateModal({choix:t});switch(this.ignoreControls=!1,e.id){case 1:this.addChannelOption();break;case 2:this.removeChannelOption();break;case 3:}},async onEnter(){if(!0!==this.ignoreControls&&0===this.notesChannels.length){this.ignoreControls=!0;let t=[{id:1,title:this.IntlString("APP_DARKTCHAT_NEW_CHANNEL"),icons:"fa-plus",color:"green"},{id:3,title:this.IntlString("APP_DARKTCHAT_CANCEL"),icons:"fa-undo"}];const e=await fe.CreateModal({choix:t});this.ignoreControls=!1,1===e.id&&this.addChannelOption()}},showChannel(t){this.$router.push({name:"notes.channel.show",params:{channel:t}})},onBack(){!0!==this.ignoreControls&&this.$router.push({name:"home"})},async addChannelOption(){try{const t=await fe.CreateTextModal({limit:280,title:this.IntlString("APP_DARKTCHAT_NEW_CHANNEL")});let e=(t||{}).text||" ";e.length>0&&(this.currentSelect=0,this.notesAddChannel({channel:e}))}catch(t){}},async removeChannelOption(){const t=this.notesChannels[this.currentSelect].channel;this.currentSelect=0,this.notesRemoveChannel({channel:t})}},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpArrowRight",this.onRight),this.$bus.$on("keyUpEnter",this.onEnter),this.$bus.$on("keyUpBackspace",this.onBack))},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},Qs=Ys,Xs=(s("e1f4"),Object(u["a"])(Qs,Ks,Js,!1,null,"412629aa",null)),tn=Xs.exports,en=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app",staticStyle:{width:"3234px",height:"742px",background:"white"}},[s("PhoneTitle",{attrs:{title:t.channelName,backgroundColor:"#f8d344"},on:{back:t.onQuit}}),s("div",{staticClass:"phone_content"},[s("div",{ref:"elementsDiv",staticClass:"elements"},t._l(t.notesMessages,(function(e){return s("div",{key:e.id,staticClass:"element"},[s("div",{staticClass:"time"},[t._v(t._s(t.formatTime(e.time)))]),s("div",{staticClass:"message"},[t._v(" "+t._s(e.message)+" ")])])})),0),s("div",{staticClass:"notes_write"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",placeholder:"..."},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.sendMessage(e))},input:function(e){e.target.composing||(t.message=e.target.value)}}}),s("span",{staticClass:"notes_send",on:{click:t.sendMessage}},[t._v(">")])])])],1)},sn=[],nn={components:{PhoneTitle:z},data(){return{message:"",channel:"",currentSelect:0}},computed:{...Object(a["c"])(["notesMessages","notesCurrentChannel","useMouse"]),channelName(){return"# "+this.channel}},watch:{notesMessages(){const t=this.$refs.elementsDiv;t.scrollTop=t.scrollHeight}},methods:{setChannel(t){this.channel=t,this.notesSetChannel({channel:t})},...Object(a["b"])(["notesSetChannel","notesSendMessage"]),scrollIntoViewIfNeeded(){this.$nextTick(()=>{const t=this.$el.querySelector(".select");null!==t&&t.scrollIntoViewIfNeeded()})},onUp(){const t=this.$refs.elementsDiv;t.scrollTop=t.scrollTop-120},onDown(){const t=this.$refs.elementsDiv;t.scrollTop=t.scrollTop+120},async onEnter(){const t=await this.$phoneAPI.getReponseText();if(void 0!==t&&void 0!==t.text){const e=t.text.trim();0!==e.length&&this.notesSendMessage({channel:this.channel,message:e})}},sendMessage(){const t=this.message.trim();0!==t.length&&(this.notesSendMessage({channel:this.channel,message:t}),this.message="")},onBack(){!0===this.useMouse&&"BODY"!==document.activeElement.tagName||this.onQuit()},onQuit(){this.$router.push({name:"notes.channel"})},formatTime(t){const e=new Date(t);return e.toLocaleTimeString()}},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBack),this.setChannel(this.$route.params.channel)},mounted(){window.c=this.$refs.elementsDiv;const t=this.$refs.elementsDiv;t.scrollTop=t.scrollHeight},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},on=nn,an=(s("2da8"),Object(u["a"])(on,en,sn,!1,null,"0317dc58",null)),rn=an.exports,cn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ln=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"splash"},[s("img",{attrs:{src:"/html/static/img/twitter/bird.png"}})])}],un={created:function(){setTimeout(()=>{this.$router.push({name:"twitter.screen"})},500)}},hn=un,pn=(s("f168"),Object(u["a"])(hn,cn,ln,!1,null,"67cb975b",null)),dn=pn.exports,mn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.currentScreen.title,backgroundColor:"#1da1f2"},on:{back:t.quit}}),s("div",{staticClass:"phone_content"},[s(t.currentScreen.component,{tag:"component"})],1),s("div",{staticClass:"twitter_menu"},t._l(t.screen,(function(e,n){return s("div",{key:n,staticClass:"twitter_menu-item",class:{select:n===t.currentScreenIndex},on:{click:function(e){return e.stopPropagation(),t.openMenu(n)}}},[s("i",{staticClass:"fa",class:e.icon,on:{click:function(e){return e.stopPropagation(),t.openMenu(n)}}})])})),0)],1)},gn=[],fn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_content"},[void 0!==t.imgZoom?s("div",{staticClass:"img-fullscreen",on:{click:function(e){e.stopPropagation(),t.imgZoom=void 0}}},[s("img",{attrs:{src:t.imgZoom}})]):t._e(),s("div",{ref:"elementsDiv",staticClass:"tweets-wrapper"},t._l(t.tweets,(function(e,n){return s("div",{key:e.id,staticClass:"tweet",class:{select:n===t.selectMessage}},[s("div",{staticClass:"tweet-img"},[s("img",{staticStyle:{"max-width":"48px","max-height":"48px"},attrs:{src:e.authorIcon||"html/static/img/twitter/default_profile.png"}})]),s("div",{staticClass:"tweet-content"},[s("div",{staticClass:"tweet-head"},[s("div",{staticClass:"tweet-head-author"},[t._v(t._s(e.author))]),s("div",{staticClass:"tweet-head-time"},[t._v(t._s(t.formatTime(e.time)))])]),s("div",{staticClass:"tweet-message"},[t.isImage(e.message)?s("img",{staticClass:"tweet-attachement-img",attrs:{src:e.message},on:{click:function(s){s.stopPropagation(),t.imgZoom=e.message}}}):[t._v(t._s(e.message))]],2),s("div",{staticClass:"tweet-like"},[s("div",{staticClass:"item svgreply",on:{click:function(s){return s.stopPropagation(),t.reply(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},on:{click:function(s){return s.stopPropagation(),t.reply(e)}}},[s("path",{attrs:{fill:"none",d:"M0 0h24v24H0V0z"}}),s("path",{attrs:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}})])]),s("div",{staticClass:"item"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}})])]),e.isLikes?s("div",{staticClass:"item svgdislike",on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}})]),s("span",{on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[t._v(t._s(e.likes))])]):s("div",{staticClass:"svglike",on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}})]),s("span",{on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[t._v(t._s(e.likes))])]),s("div",{staticClass:"item"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"none",d:"M0 0h24v24H0V0z"}}),s("path",{attrs:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"}})])])])])])})),0)])},_n=[],wn={components:{},data(){return{selectMessage:-1,ignoreControls:!1,imgZoom:void 0}},computed:{...Object(a["c"])(["tweets","IntlString","useMouse"])},watch:{},methods:{...Object(a["b"])(["twitterLogin","twitterPostTweet","twitterToogleLike","fetchTweets"]),async showOption(){this.ignoreControls=!0;const t=this.tweets[this.selectMessage];let e=[{id:1,title:"Like / Unlike",icons:"fa-heart"},{id:2,title:"Répondre",icons:"fa-reply"},{id:-1,title:this.IntlString("CANCEL"),icons:"fa-undo"}];this.isImage(t.message)&&(e=[{id:3,title:this.IntlString("APP_MESSAGE_ZOOM_IMG"),icons:"fa-search"},...e]);const s=await fe.CreateModal({choix:e});switch(this.ignoreControls=!1,s.id){case 1:this.twitterToogleLike({tweetId:t.id});break;case 2:this.reply(t);break;case 3:this.imgZoom=t.message;break}},isImage(t){return/^https?:\/\/.*\.(png|jpg|jpeg|gif)/.test(t)},async reply(t){const e=t.author;try{this.ignoreControls=!0;const t=await fe.CreateTextModal({title:"Répondre",text:`@${e} `});if(void 0!==t&&void 0!==t.text){const e=t.text.trim();0!==e.length&&this.twitterPostTweet({message:e})}}catch(s){}finally{this.ignoreControls=!1}},resetScroll(){this.$nextTick(()=>{let t=document.querySelector("#tweets");t.scrollTop=t.scrollHeight,this.selectMessage=-1})},scrollIntoViewIfNeeded(){this.$nextTick(()=>{const t=this.$el.querySelector(".select");null!==t&&t.scrollIntoViewIfNeeded()})},onUp(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.selectMessage=0:this.selectMessage=0===this.selectMessage?0:this.selectMessage-1,this.scrollIntoViewIfNeeded())},onDown(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.selectMessage=0:this.selectMessage=this.selectMessage===this.tweets.length-1?this.selectMessage:this.selectMessage+1,this.scrollIntoViewIfNeeded())},async onEnter(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.newTweet():this.showOption())},onBack(){void 0===this.imgZoom?!0!==this.ignoreControls&&(-1!==this.selectMessage?this.selectMessage=-1:this.$router.push({name:"home"})):this.imgZoom=void 0},formatTime(t){const e=new Date(t);return e.toLocaleTimeString()}},created(){this.useMouse||(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBack)},mounted(){this.fetchTweets()},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},Cn=wn,bn=(s("eb34"),Object(u["a"])(Cn,fn,_n,!1,null,"4c2e84a3",null)),Sn=bn.exports,vn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_content"},[s("div",{staticClass:"tweet_write"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.message,expression:"message",modifiers:{trim:!0}},{name:"autofocus",rawName:"v-autofocus"}],ref:"textareaRef",class:{highlight:"textarea"===t.selectedOption,"textarea-input":!0},attrs:{placeholder:t.IntlString("APP_TWITTER_PLACEHOLDER_MESSAGE")},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("span",{class:{highlight:"tweet_send"===t.selectedOption,tweet_send:!0},on:{click:t.tweeter}},[t._v(" "+t._s(t.messageSent?t.IntlString("APP_TWITTER_BUTTON_ACTION_TWEETER_SENT"):t.IntlString("APP_TWITTER_BUTTON_ACTION_TWEETER"))+" ")]),s("span",{class:{highlight:"tweet_photo"===t.selectedOption,tweet_photo:!0},on:{click:t.postphoto}},[t._v(" "+t._s(t.IntlString("APP_TWITTER_BUTTON_PHOTO_TWEETER"))+" ")])])])},yn=[],kn={components:{},data(){return{message:"",messageSent:!1,ignoreControls:!1,selectedOption:"textarea",options:["textarea","tweet_send","tweet_photo"]}},computed:{...Object(a["c"])(["IntlString","useMouse","enableTakePhoto"])},watch:{selectedOption:function(t){"textarea"!==t?this.$refs.textareaRef.blur():this.$refs.textareaRef.focus()}},methods:{...Object(a["b"])(["twitterPostTweet"]),async postphoto(){const{url:t}=await this.$phoneAPI.takePhoto();null!==t&&void 0!==t&&await this.twitterPostTweet({message:t})},async onEnter(){try{if("textarea"===this.selectedOption){const t=await this.$phoneAPI.getReponseText(),e=t?t.text.trim():"";return void(this.message=e)}if("tweet_send"===this.selectedOption)return void this.tweeter();if("tweet_photo"===this.selectedOption)return void this.postphoto()}catch(t){}},async tweeter(){""!==this.message&&(await this.twitterPostTweet({message:this.message}),this.message="",this.messageSent=!0,setTimeout(()=>{this.messageSent=!1},4e3))},getCurrentOptionIdx(){return this.options.findIndex(t=>t===this.selectedOption)},nextOption(){const t=this.getCurrentOptionIdx();t+1!==this.options.length?this.selectedOption=this.options[t+1]:this.selectedOption=this.options[0]},prevOption(){const t=this.getCurrentOptionIdx();this.selectedOption=t-1<0?this.options[this.options.length-1]:this.options[t-1]},onBack(){!0===this.useMouse&&"BODY"!==document.activeElement.tagName||this.$bus.$emit("twitterHome")},onUp:function(){!0!==this.ignoreControls&&this.prevOption()},onDown:function(){!0!==this.ignoreControls&&this.nextOption()}},created(){this.useMouse||(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBackspace)},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBackspace)}},Tn=kn,En=(s("41e9"),Object(u["a"])(Tn,vn,yn,!1,null,"21cc67e7",null)),An=En.exports,In=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_content content inputText"},[t.state===t.STATES.MENU?[t.isLogin?t._e():[s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.LOGIN}}},[s("input",{staticClass:"btn btn-blue",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_LOGIN")},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.LOGIN}}})]),s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.NOTIFICATION}}},[s("input",{staticClass:"btn btn-blue",attrs:{type:"button",value:t.IntlString("APP_TWITTER_NOTIFICATION")},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.NOTIFICATION}}})]),s("div",{staticClass:"group bottom",attrs:{"data-type":"button"},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.NEW_ACCOUNT}}},[s("input",{staticClass:"btn btn-red",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_NEW")},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.NEW_ACCOUNT}}})])],t.isLogin?[s("img",{staticStyle:{"align-self":"center"},attrs:{src:t.twitterAvatarUrl,height:"128",width:"128"}}),s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.ACCOUNT}}},[s("input",{staticClass:"btn btn-blue",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_PARAM")},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.ACCOUNT}}})]),s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.NOTIFICATION}}},[s("input",{staticClass:"btn btn-blue",attrs:{type:"button",value:t.IntlString("APP_TWITTER_NOTIFICATION")},on:{click:function(e){e.stopPropagation(),t.state=t.STATES.NOTIFICATION}}})]),s("div",{staticClass:"group bottom",attrs:{"data-type":"button"},on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[s("input",{staticClass:"btn btn-red",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_LOGOUT")},on:{click:function(e){return e.stopPropagation(),t.logout(e)}}})])]:t._e()]:t.state===t.STATES.LOGIN?[s("div",{staticClass:"group inputText",attrs:{"data-type":"text","data-maxlength":"64","data-defaultValue":t.localAccount.username}},[s("input",{attrs:{type:"text"},domProps:{value:t.localAccount.username},on:{change:function(e){return t.setLocalAccount(e,"username")}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"}),s("label",[t._v(t._s(t.IntlString("APP_TWITTER_ACCOUNT_USERNAME")))])]),s("div",{staticClass:"group inputText",attrs:{"data-type":"text","data-model":"password","data-maxlength":"30"}},[s("input",{attrs:{autocomplete:"new-password",type:"password"},domProps:{value:t.localAccount.password},on:{change:function(e){return t.setLocalAccount(e,"password")}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"}),s("label",[t._v(t._s(t.IntlString("APP_TWITTER_ACCOUNT_PASSWORD")))])]),s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){return e.stopPropagation(),t.login(e)}}},[s("input",{staticClass:"btn btn-blue",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_LOGIN")},on:{click:function(e){return e.stopPropagation(),t.login(e)}}})])]:t.state===t.STATES.NOTIFICATION?[s("div",{staticClass:"groupCheckBoxTitle"},[s("label",[t._v(t._s(t.IntlString("APP_TWITTER_NOTIFICATION_WHEN")))])]),s("label",{staticClass:"group checkbox",attrs:{"data-type":"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotification(2)}}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:2===t.twitterNotification},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotification(2)}}}),t._v(" "+t._s(t.IntlString("APP_TWITTER_NOTIFICATION_ALL"))+" ")]),s("label",{staticClass:"group checkbox",attrs:{"data-type":"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotification(1)}}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:1===t.twitterNotification},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotification(1)}}}),t._v(" "+t._s(t.IntlString("APP_TWITTER_NOTIFICATION_MENTION"))+" ")]),s("label",{staticClass:"group checkbox",attrs:{"data-type":"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotification(0)}}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:0===t.twitterNotification},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotification(0)}}}),t._v(" "+t._s(t.IntlString("APP_TWITTER_NOTIFICATION_NEVER"))+" ")]),s("div",{staticClass:"groupCheckBoxTitle"},[s("label",[t._v(t._s(t.IntlString("APP_TWITTER_NOTIFICATION_SOUND")))])]),s("label",{staticClass:"group checkbox",attrs:{"data-type":"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotificationSound(!0)}}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.twitterNotificationSound},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotificationSound(!0)}}}),t._v(" "+t._s(t.IntlString("APP_TWITTER_NOTIFICATION_SOUND_YES"))+" ")]),s("label",{staticClass:"group checkbox",attrs:{"data-type":"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotificationSound(!1)}}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:!t.twitterNotificationSound},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setNotificationSound(!1)}}}),t._v(" "+t._s(t.IntlString("APP_TWITTER_NOTIFICATION_SOUND_NO"))+" ")])]:t.state===t.STATES.ACCOUNT?[s("img",{staticStyle:{"align-self":"center"},attrs:{src:t.twitterAvatarUrl,height:"128",width:"128"}}),s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){return e.stopPropagation(),t.onPressChangeAvartar(e)}}},[s("input",{staticClass:"btn btn-blue",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_AVATAR")},on:{click:function(e){return e.stopPropagation(),t.onPressChangeAvartar(e)}}})]),s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){return e.stopPropagation(),t.onPressChangeAvartartake(e)}}},[s("input",{staticClass:"btn btn-blue",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_AVATAR_TAKE")},on:{click:function(e){return e.stopPropagation(),t.onPressChangeAvartartake(e)}}})]),s("div",{staticClass:"group",attrs:{"data-type":"button"},on:{click:function(e){return e.stopPropagation(),t.changePassword(e)}}},[s("input",{staticClass:"btn btn-red",attrs:{type:"button",value:t.IntlString("APP_TWITTER_ACCOUNT_CHANGE_PASSWORD")},on:{click:function(e){return e.stopPropagation(),t.changePassword(e)}}})])]:t.state===t.STATES.NEW_ACCOUNT?[t._m(0),s("div",{staticClass:"group inputText",attrs:{"data-type":"text","data-maxlength":"64","data-defaultValue":""}},[s("input",{attrs:{type:"text"},domProps:{value:t.localAccount.username},on:{change:function(e){return t.setLocalAccount(e,"username")}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"}),s("label",[t._v(t._s(t.IntlString("APP_TWITTER_NEW_ACCOUNT_USERNAME")))])]),s("div",{staticClass:"group inputText",attrs:{"data-type":"text","data-model":"password","data-maxlength":"30"}},[s("input",{attrs:{autocomplete:"new-password",type:"password"},domProps:{value:t.localAccount.password},on:{change:function(e){return t.setLocalAccount(e,"password")}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"}),s("label",[t._v(t._s(t.IntlString("APP_TWITTER_NEW_ACCOUNT_PASSWORD")))])]),s("div",{staticClass:"group inputText",attrs:{"data-type":"text","data-model":"password","data-maxlength":"30"}},[s("input",{attrs:{autocomplete:"new-password",type:"password"},domProps:{value:t.localAccount.passwordConfirm},on:{change:function(e){return t.setLocalAccount(e,"passwordConfirm")}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"}),s("label",[t._v(t._s(t.IntlString("APP_TWITTER_NEW_ACCOUNT_PASSWORD_CONFIRM")))])]),s("div",{staticClass:"group",staticStyle:{"margin-right":"7px"},attrs:{"data-type":"button"},on:{click:function(e){return e.stopPropagation(),t.createAccount(e)}}},[s("input",{staticClass:"btn",class:t.validAccount?"btn-blue":"btn-gray",attrs:{type:"button",value:t.IntlString("APP_TWIITER_ACCOUNT_CREATE")},on:{click:function(e){return e.stopPropagation(),t.createAccount(e)}}})])]:t._e()],2)},Pn=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"group img",staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{"data-type":"button"}},[s("img",{staticStyle:{"margin-bottom":"10px"},attrs:{src:"/html/static/img/twitter/bird.png"}})])}];const $n=Object.freeze({MENU:0,NEW_ACCOUNT:1,LOGIN:2,ACCOUNT:3,NOTIFICATION:4});var Nn,Mn,Un={components:{},data(){return{STATES:$n,state:$n.MENU,localAccount:{username:"",password:"",passwordConfirm:"",avatarUrl:"/html/static/img/twitter/default_profile.png"},notification:0,notificationSound:!1}},computed:{...Object(a["c"])(["IntlString","useMouse","twitterUsername","twitterPassword","twitterAvatarUrl","twitterNotification","twitterNotificationSound"]),isLogin(){return void 0!==this.twitterUsername&&""!==this.twitterUsername},validAccount(){return this.localAccount.username.length>=4&&this.localAccount.password.length>=6&&this.localAccount.password===this.localAccount.passwordConfirm}},methods:{...Object(a["b"])(["twitterLogin","twitterChangePassword","twitterLogout","twitterSetAvatar","twitterCreateNewAccount","setTwitterNotification","setTwitterNotificationSound"]),onUp:function(){if(!0===this.ignoreControls)return;let t=document.querySelector(".group.select");if(null===t)return t=document.querySelector(".group"),void t.classList.add("select");while(null!==t.previousElementSibling){if(t.previousElementSibling.classList.contains("group"))break;t=t.previousElementSibling}if(null!==t.previousElementSibling){document.querySelectorAll(".group").forEach(t=>{t.classList.remove("select")}),t.previousElementSibling.classList.add("select");let e=t.previousElementSibling.querySelector("input");null!==e&&e.focus()}},onDown:function(){if(!0===this.ignoreControls)return;let t=document.querySelector(".group.select");if(null===t)return t=document.querySelector(".group"),void t.classList.add("select");while(null!==t.nextElementSibling){if(t.nextElementSibling.classList.contains("group"))break;t=t.nextElementSibling}if(null!==t.nextElementSibling){document.querySelectorAll(".group").forEach(t=>{t.classList.remove("select")}),t.nextElementSibling.classList.add("select");let e=t.nextElementSibling.querySelector("input");null!==e&&e.focus()}},onEnter:function(){if(!0===this.ignoreControls)return;let t=document.querySelector(".group.select");if(null!==t&&null!==t.dataset){if("text"===t.dataset.type){const e=t.querySelector("input");let s={limit:parseInt(t.dataset.maxlength)||64,text:t.dataset.defaultValue||""};this.$phoneAPI.getReponseText(s).then(t=>{e.value=t.text,e.dispatchEvent(new window.Event("change"))})}"button"===t.dataset.type&&t.click()}},onBack(){this.state!==this.STATES.MENU?this.state=this.STATES.MENU:this.$bus.$emit("twitterHome")},setLocalAccount(t,e){this.localAccount[e]=t.target.value},async setLocalAccountAvartarTake(t){try{const{url:t}=await this.$phoneAPI.takePhoto();null!==t&&void 0!==t&&(this.localAccount.avatarUrl=t)}catch(e){}},async setLocalAccountAvartar(t){try{const t=await fe.CreateTextModal({text:this.twitterAvatarUrl||"https://i.imgur.com/"});this.localAccount.avatarUrl=t.text}catch(e){}},async onPressChangeAvartartake(){try{const{url:t}=await this.$phoneAPI.takePhoto();null!==t&&void 0!==t&&this.twitterSetAvatar({avatarUrl:t})}catch(t){}},async onPressChangeAvartar(){try{const t=await fe.CreateTextModal({text:this.twitterAvatarUrl||"https://i.imgur.com/"});this.twitterSetAvatar({avatarUrl:t.text})}catch(t){}},login(){this.twitterLogin({username:this.localAccount.username,password:this.localAccount.password}),this.state=$n.MENU},logout(){this.twitterLogout()},createAccount(){!0===this.validAccount&&(this.twitterCreateNewAccount(this.localAccount),this.localAccount={username:"",password:"",passwordConfirm:"",avatarUrl:null},this.state=this.STATES.MENU)},cancel(){this.state=$n.MENU},setNotification(t){this.setTwitterNotification(t)},setNotificationSound(t){this.setTwitterNotificationSound(t)},async changePassword(t){try{const t=await fe.CreateTextModal({limit:30});if(""===t.text)return;const e=await fe.CreateTextModal({limit:30});if(""===e.text)return;if(e.text!==t.text)return void this.$notify({title:this.IntlString("APP_TWITTER_NAME"),message:this.IntlString("APP_TWITTER_NOTIF_NEW_PASSWORD_MISS_MATCH"),icon:"twitter",backgroundColor:"#e0245e80"});if(e.text.length<6)return void this.$notify({title:this.IntlString("APP_TWITTER_NAME"),message:this.IntlString("APP_TWITTER_NOTIF_NEW_PASSWORD_LENGTH_ERROR"),icon:"twitter",backgroundColor:"#e0245e80"});this.twitterChangePassword(e.text)}catch(e){console.error(e)}}},created(){this.useMouse||(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter),this.$bus.$on("keyUpBackspace",this.onBack))},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},On=Un,xn=(s("1db4"),Object(u["a"])(On,In,Pn,!1,null,"7e9ffeb9",null)),Ln=xn.exports,Dn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_content"},[void 0!==t.imgZoom?s("div",{staticClass:"img-fullscreen",on:{click:function(e){e.stopPropagation(),t.imgZoom=void 0}}},[s("img",{attrs:{src:t.imgZoom}})]):t._e(),s("div",{ref:"elementsDiv",staticClass:"tweets-wrapper"},t._l(t.tweets,(function(e,n){return s("div",{key:e.id,staticClass:"tweet",class:{select:n===t.selectMessage}},[s("div",{staticClass:"tweet-img"},[s("img",{staticStyle:{"max-width":"48px","max-height":"48px"},attrs:{src:e.authorIcon||"html/static/img/twitter/default_profile.png"}})]),s("div",{staticClass:"tweet-content"},[s("div",{staticClass:"tweet-head"},[s("div",{staticClass:"tweet-head-author"},[t._v(t._s(e.author))]),s("div",{staticClass:"tweet-head-time"},[t._v(t._s(t.formatTime(e.time)))])]),s("div",{staticClass:"tweet-message"},[t.isImage(e.message)?s("img",{staticClass:"tweet-attachement-img",attrs:{src:e.message},on:{click:function(s){s.stopPropagation(),t.imgZoom=e.message}}}):[t._v(t._s(e.message))]],2),s("div",{staticClass:"tweet-like"},[s("div",{staticClass:"item svgreply",on:{click:function(s){return s.stopPropagation(),t.reply(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},on:{click:function(s){return s.stopPropagation(),t.reply(e)}}},[s("path",{attrs:{fill:"none",d:"M0 0h24v24H0V0z"}}),s("path",{attrs:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}})])]),s("div",{staticClass:"item"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}})])]),e.isLikes?s("div",{staticClass:"item svgdislike",on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}})]),s("span",{on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[t._v(t._s(e.likes))])]):s("div",{staticClass:"svglike",on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}})]),s("span",{on:{click:function(s){return s.stopPropagation(),t.twitterToogleLike({tweetId:e.id})}}},[t._v(t._s(e.likes))])]),s("div",{staticClass:"item"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"none",d:"M0 0h24v24H0V0z"}}),s("path",{attrs:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"}})])])])])])})),0)])},Rn=[],Bn={components:{},data(){return{selectMessage:-1,ignoreControls:!1,imgZoom:void 0}},computed:{...Object(a["c"])(["favoriteTweets","IntlString","useMouse"]),tweets(){return this.favoriteTweets}},watch:{},methods:{...Object(a["b"])(["twitterLogin","twitterPostTweet","twitterToogleLike","fetchFavoriteTweets"]),async showOption(){this.ignoreControls=!0;const t=this.tweets[this.selectMessage];let e=[{id:1,title:"Like / Unlike",icons:"fa-heart"},{id:2,title:"Reply",icons:"fa-reply"},{id:-1,title:this.IntlString("CANCEL"),icons:"fa-undo"}];this.isImage(t.message)&&(e=[{id:3,title:this.IntlString("APP_MESSAGE_ZOOM_IMG"),icons:"fa-search"},...e]);const s=await fe.CreateModal({choix:e});switch(this.ignoreControls=!1,s.id){case 1:this.twitterToogleLike({tweetId:t.id});break;case 2:this.reply(t);break;case 3:this.imgZoom=t.message;break}},isImage(t){return/^https?:\/\/.*\.(png|jpg|jpeg|gif)/.test(t)},async reply(t){const e=t.author;try{this.ignoreControls=!0;const t=await fe.CreateTextModal({title:"Reply",text:`@${e} `});if(void 0!==t&&void 0!==t.text){const e=t.text.trim();0!==e.length&&this.twitterPostTweet({message:e})}}catch(s){}finally{this.ignoreControls=!1}},resetScroll(){this.$nextTick(()=>{let t=document.querySelector("#tweets");t.scrollTop=t.scrollHeight,this.selectMessage=-1})},scrollIntoViewIfNeeded(){this.$nextTick(()=>{const t=this.$el.querySelector(".select");null!==t&&t.scrollIntoViewIfNeeded()})},onUp:function(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.selectMessage=0:this.selectMessage=0===this.selectMessage?0:this.selectMessage-1,this.scrollIntoViewIfNeeded())},onDown(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.selectMessage=0:this.selectMessage=this.selectMessage===this.tweets.length-1?this.selectMessage:this.selectMessage+1,this.scrollIntoViewIfNeeded())},async onEnter(){!0!==this.ignoreControls&&(-1===this.selectMessage?this.newTweet():this.showOption())},onBack(){void 0===this.imgZoom?!0!==this.ignoreControls&&(-1!==this.selectMessage?this.selectMessage=-1:this.$bus.$emit("twitterHome")):this.imgZoom=void 0},formatTime(t){const e=new Date(t);return e.toLocaleTimeString()}},created(){this.useMouse||(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBack)},mounted(){this.fetchFavoriteTweets()},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBack)}},Hn=Bn,jn=(s("fb58"),Object(u["a"])(Hn,Dn,Rn,!1,null,"77ce014b",null)),Fn=jn.exports,Vn={components:{PhoneTitle:z},data(){return{currentScreenIndex:0}},computed:{...Object(a["c"])(["IntlString","useMouse"]),screen(){return[{title:this.IntlString("APP_TWITTER_VIEW_TWITTER"),component:Sn,icon:"fa-home"},{title:this.IntlString("APP_TWITTER_VIEW_TOP_TWEETS"),component:Fn,icon:"fa-heart"},{title:this.IntlString("APP_TWITTER_VIEW_TWEETER"),component:An,icon:"fa-comment"},{title:this.IntlString("APP_TWITTER_VIEW_SETTING"),component:Ln,icon:"fa-cog"}]},currentScreen(){return this.screen[this.currentScreenIndex]}},watch:{},methods:{onLeft(){this.currentScreenIndex=Math.max(0,this.currentScreenIndex-1)},onRight(){this.currentScreenIndex=Math.min(this.screen.length-1,this.currentScreenIndex+1)},home(){this.currentScreenIndex=0},openMenu(t){this.currentScreenIndex=t},quit(){0===this.currentScreenIndex?this.$router.push({name:"home"}):this.currentScreenIndex=0}},created(){this.useMouse||(this.$bus.$on("keyUpArrowLeft",this.onLeft),this.$bus.$on("keyUpArrowRight",this.onRight)),this.$bus.$on("twitterHome",this.home)},mounted(){},beforeDestroy(){this.$bus.$off("keyUpArrowLeft",this.onLeft),this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("twitterHome",this.home)}},Gn=Vn,qn=(s("143b"),Object(u["a"])(Gn,mn,gn,!1,null,"0db6e7e7",null)),Wn=qn.exports,zn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.IntlString("APP_CONFIG_TITLE")},on:{back:t.onBackspace}}),s("div",{staticClass:"phone_content elements"},t._l(t.paramList,(function(e,n){return s("div",{key:n,staticClass:"element",class:{select:n===t.currentSelect},on:{click:function(e){return e.stopPropagation(),t.onPressItem(n)}}},[s("i",{staticClass:"fa",class:e.icons,style:{color:e.color},on:{click:function(e){return e.stopPropagation(),t.onPressItem(n)}}}),s("div",{staticClass:"element-content",on:{click:function(e){return e.stopPropagation(),t.onPressItem(n)}}},[s("span",{staticClass:"element-title",on:{click:function(e){return e.stopPropagation(),t.onPressItem(n)}}},[t._v(t._s(e.title))]),e.value?s("span",{staticClass:"element-value",on:{click:function(e){return e.stopPropagation(),t.onPressItem(n)}}},[t._v(t._s(e.value))]):t._e()])])})),0)],1)},Zn=[],Kn={components:{PhoneTitle:z},data(){return{ignoreControls:!1,currentSelect:0}},computed:{...Object(a["c"])(["IntlString","useMouse","myPhoneNumber","backgroundLabel","coqueLabel","sonidoLabel","zoom","config","volume","availableLanguages"]),paramList(){const t=this.IntlString("CANCEL"),e=this.IntlString("APP_CONFIG_RESET_CONFIRM"),s={},n={};return s[t]="cancel",n[e]="accept",[{icons:"fa-phone",title:this.IntlString("APP_CONFIG_MY_MUNBER"),value:this.myPhoneNumber},{icons:"fa-image",title:this.IntlString("APP_CONFIG_WALLPAPER"),value:this.backgroundLabel,onValid:"onChangeBackground",values:this.config.background},{icons:"fa-mobile",title:this.IntlString("APP_CONFIG_CASE"),value:this.coqueLabel,onValid:"onChangeCoque",values:this.config.coque},{icons:"fa-bell",title:this.IntlString("APP_CONFIG_SOUND"),value:this.sonidoLabel,onValid:"onChangeSonido",values:this.config.sonido},{icons:"fa-search",title:this.IntlString("APP_CONFIG_ZOOM"),value:this.zoom,onValid:"setZoom",onLeft:this.ajustZoom(-1),onRight:this.ajustZoom(1),values:{"125 %":"125%","100 %":"100%","80 %":"80%","60 %":"60%","40 %":"40%","20 %":"20%"}},{icons:"fa-volume-down",title:this.IntlString("APP_CONFIG_VOLUME"),value:this.valumeDisplay,onValid:"setPhoneVolume",onLeft:this.ajustVolume(-.01),onRight:this.ajustVolume(.01),values:{"100 %":1,"80 %":.8,"60 %":.6,"40 %":.4,"20 %":.2,"0 %":0}},{icons:"fa-globe-americas",title:this.IntlString("APP_CONFIG_LANGUAGE"),onValid:"onChangeLanguages",values:{...this.availableLanguages,...s}},{icons:"fa-mouse-pointer",title:this.IntlString("APP_CONFIG_MOUSE_SUPPORT"),onValid:"onChangeMouseSupport",values:{Yes:!0,No:!1,...s}},{icons:"fa-exclamation-triangle",color:"#c0392b",title:this.IntlString("APP_CONFIG_RESET"),onValid:"resetPhone",values:{...n,...s}}]},valumeDisplay(){return Math.floor(100*this.volume)+" %"}},methods:{...Object(a["b"])(["getIntlString","setZoon","setBackground","setCoque","setSonido","setVolume","setLanguage","setMouseSupport"]),scrollIntoViewIfNeeded:function(){this.$nextTick(()=>{document.querySelector(".select").scrollIntoViewIfNeeded()})},onBackspace(){!0!==this.ignoreControls&&this.$router.push({name:"home"})},onUp:function(){!0!==this.ignoreControls&&(this.currentSelect=0===this.currentSelect?0:this.currentSelect-1,this.scrollIntoViewIfNeeded())},onDown:function(){!0!==this.ignoreControls&&(this.currentSelect=this.currentSelect===this.paramList.length-1?this.currentSelect:this.currentSelect+1,this.scrollIntoViewIfNeeded())},onRight(){if(!0===this.ignoreControls)return;let t=this.paramList[this.currentSelect];void 0!==t.onRight&&t.onRight(t)},onLeft(){if(!0===this.ignoreControls)return;let t=this.paramList[this.currentSelect];void 0!==t.onLeft&&t.onLeft(t)},actionItem(t){if(void 0!==t.values){this.ignoreControls=!0;let e=Object.keys(t.values).map(e=>({title:e,value:t.values[e],picto:t.values[e]}));fe.CreateModal({choix:e}).then(e=>{this.ignoreControls=!1,"cancel"!==e.title&&this[t.onValid](t,e)})}},onPressItem(t){this.actionItem(this.paramList[t])},onEnter(){!0!==this.ignoreControls&&this.actionItem(this.paramList[this.currentSelect])},async onChangeBackground(t,e){let s=e.value;"URL"===s?(this.ignoreControls=!0,fe.CreateTextModal({text:"https://i.imgur.com/"}).then(t=>{""!==t.text&&void 0!==t.text&&null!==t.text&&"https://i.imgur.com/"!==t.text&&this.setBackground({label:"Custom",value:t.text})}).finally(()=>{this.ignoreControls=!1})):this.setBackground({label:e.title,value:e.value})},onChangeCoque:function(t,e){this.setCoque({label:e.title,value:e.value})},onChangeSonido:function(t,e){this.setSonido({label:e.title,value:e.value})},setZoom:function(t,e){this.setZoon(e.value)},ajustZoom(t){return()=>{const e=Math.max(10,(parseInt(this.zoom)||100)+t);this.setZoon(e+"%")}},setPhoneVolume(t,e){this.setVolume(e.value)},ajustVolume(t){return()=>{const e=Math.max(0,Math.min(1,parseFloat(this.volume)+t));this.setVolume(e)}},onChangeLanguages(t,e){"cancel"!==e.value&&this.setLanguage(e.value)},onChangeMouseSupport(t,e){"cancel"!==e.value&&(this.setMouseSupport(e.value),this.onBackspace())},resetPhone:function(t,e){if("cancel"!==e.value){this.ignoreControls=!0;const t=this.IntlString("CANCEL"),e=this.IntlString("APP_CONFIG_RESET_CONFIRM");let s=[{title:t},{title:t},{title:e,color:"red",reset:!0},{title:t},{title:t}];fe.CreateModal({choix:s}).then(t=>{this.ignoreControls=!1,!0===t.reset&&this.$phoneAPI.deleteALL()})}}},created(){this.useMouse?this.currentSelect=-1:(this.$bus.$on("keyUpArrowRight",this.onRight),this.$bus.$on("keyUpArrowLeft",this.onLeft),this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBackspace)},beforeDestroy(){this.$bus.$off("keyUpArrowRight",this.onRight),this.$bus.$off("keyUpArrowLeft",this.onLeft),this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBackspace)}},Jn=Kn,Yn=(s("a685"),Object(u["a"])(Jn,zn,Zn,!1,null,"4e10e786",null)),Qn=Yn.exports,Xn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen",on:{click:t.onBackspace}},[s("div",{staticClass:"elements"},[s("InfoBare",{staticStyle:{width:"100%",top:"100%","margin-left":"-17px"}}),s("img",{staticClass:"logo_maze",attrs:{src:"/html/static/img/app_bank/FleecaBank.png"}}),s("div",{staticClass:"num-tarj"},[s("span",{staticClass:"moneyTitle"},[t._v(t._s(t.IntlString("APP_BANK_TITLE_BALANCE")))]),s("span",{staticClass:"moneyTitle"},[t._v(": $"+t._s(t.bankAmontFormat))])]),s("div",{staticClass:"hr"}),s("div",{staticClass:"element"},[s("div",{staticClass:"element-content"}),s("div",{ref:"form",staticClass:"element-content"},[s("input",{directives:[{name:"autofocus",rawName:"v-autofocus"},{name:"model",rawName:"v-model",value:t.id,expression:"id"}],ref:"form0",staticClass:"paragonder",class:{select:0===t.currentSelect},staticStyle:{"border-radius":"23px","font-size":"16px"},attrs:{oninput:"this.value = this.value.replace(/[^0-9.]/g, ''); this.value = this.value.replace(/(\\..*)\\./g, '$1');",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),s("div",{staticClass:"element-content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.paratutar,expression:"paratutar"}],ref:"form1",staticClass:"paragonder",class:{select:1===t.currentSelect},staticStyle:{"border-radius":"23px","font-size":"16px"},attrs:{oninput:"this.value = this.value.replace(/[^0-9.]/g, ''); this.value = this.value.replace(/(\\..*)\\./g, '$1');",placeholder:"$"},domProps:{value:t.paratutar},on:{input:function(e){e.target.composing||(t.paratutar=e.target.value)}}}),s("button",{ref:"form2",staticClass:"buton-transfer",class:{select:2===t.currentSelect},attrs:{id:"gonder"},on:{click:function(e){return e.stopPropagation(),t.paragonder(e)}}},[t._v(t._s(t.IntlString("APP_BANK_BUTTON_TRANSFER")))]),s("br"),s("button",{ref:"form3",staticClass:"buton-cancel",class:{select:3===t.currentSelect},attrs:{id:"iptal"},on:{click:function(e){return e.stopPropagation(),t.iptal(e)}}},[t._v(t._s(t.IntlString("APP_BANK_BUTTON_CANCEL")))])])])],1),s("img",{staticClass:"logo_tarj_end",attrs:{src:"/html/static/img/app_bank/tarjetas.png"}})])},to=[],eo={components:{InfoBare:A},data(){return{id:"",paratutar:"",currentSelect:0}},methods:{...Object(a["b"])(["sendpara"]),scrollIntoViewIfNeeded:function(){this.$nextTick(()=>{document.querySelector("focus").scrollIntoViewIfNeeded()})},onBackspace(){this.$router.go(-1)},iptal(){this.$router.go(-1)},paragonder(){const t=this.paratutar.trim();""!==t&&(this.paratutar="",this.sendpara({id:this.id,amount:t}))},onUp:function(){this.currentSelect-1>=0&&(this.currentSelect=this.currentSelect-1),this.$refs["form"+this.currentSelect].focus(),console.log(this.currentSelect)},onDown(){this.currentSelect+1<=3&&(this.currentSelect=this.currentSelect+1),this.$refs["form"+this.currentSelect].focus(),console.log(this.currentSelect)},onEnter(){!0!==this.ignoreControls&&(2===this.currentSelect?this.paragonder():0===this.currentSelect?this.$phoneAPI.getReponseText().then(t=>{let e=t.text.trim();this.id=e}):1===this.currentSelect?this.$phoneAPI.getReponseText().then(t=>{let e=t.text.trim();this.paratutar=e}):3===this.currentSelect&&this.iptal())}},computed:{...Object(a["c"])(["bankAmont","IntlString"]),bankAmontFormat(){return Intl.NumberFormat().format(this.bankAmont)}},created(){this.display=this.$route.params.display,this.useMouse||(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp),this.$bus.$on("keyUpEnter",this.onEnter)),this.$bus.$on("keyUpBackspace",this.onBackspace)},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpEnter",this.onEnter),this.$bus.$off("keyUpBackspace",this.onBackspace)}},so=eo,no=(s("498c"),Object(u["a"])(so,Xn,to,!1,null,"a328ba50",null)),oo=no.exports,io=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:t.IntlString("APP_BOURSE_TITLE")},on:{back:t.onBackspace}}),s("div",{staticClass:"elements"},t._l(t.bourseInfo,(function(e,n){return s("div",{key:n,staticClass:"element",class:{select:n===t.currentSelect}},[s("div",{staticClass:"elem-evo"},[s("i",{staticClass:"fa",class:t.classInfo(e)})]),s("div",{staticClass:"elem-libelle"},[t._v(t._s(e.libelle))]),s("div",{staticClass:"elem-price",style:{color:t.colorBourse(e)}},[t._v(t._s(e.price)+" $ ")]),s("div",{staticClass:"elem-difference",style:{color:t.colorBourse(e)}},[e.difference>0?s("span",[t._v("+")]):t._e(),t._v(t._s(e.difference))])])})),0)],1)},ao=[],ro={components:{PhoneTitle:z},data(){return{currentSelect:0}},computed:{...Object(a["c"])(["IntlString","useMouse","bourseInfo"])},methods:{scrollIntoViewIfNeeded:function(){this.$nextTick(()=>{this.$el.querySelector(".select").scrollIntoViewIfNeeded()})},colorBourse(t){return 0===t.difference?"#1565c0":t.difference<0?"#c62828":"#2e7d32"},classInfo(t){return 0===t.difference?["fa-arrow-right","iblue"]:t.difference<0?["fa-arrow-up","ired"]:["fa-arrow-down","igreen"]},onBackspace(){this.$router.push({name:"home"})},onUp(){this.currentSelect=0===this.currentSelect?0:this.currentSelect-1,this.scrollIntoViewIfNeeded()},onDown(){this.currentSelect=this.currentSelect===this.bourseInfo.length-1?this.currentSelect:this.currentSelect+1,this.scrollIntoViewIfNeeded()}},created(){this.useMouse||(this.$bus.$on("keyUpArrowDown",this.onDown),this.$bus.$on("keyUpArrowUp",this.onUp)),this.$bus.$on("keyUpBackspace",this.onBackspace)},beforeDestroy(){this.$bus.$off("keyUpArrowDown",this.onDown),this.$bus.$off("keyUpArrowUp",this.onUp),this.$bus.$off("keyUpBackspace",this.onBackspace)}},co=ro,lo=(s("f1bd"),Object(u["a"])(co,io,ao,!1,null,"6e5003ac",null)),uo=lo.exports,ho={created(){lt.faketakePhoto()}},po=ho,mo=Object(u["a"])(po,Nn,Mn,!1,null,null,null),go=mo.exports,fo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phone_app"},[s("PhoneTitle",{attrs:{title:"9 GAG ("+t.currentSelectPost+")",backgroundColor:"#000"},on:{back:t.quit}}),s("div",{staticClass:"phone_content",on:{click:t.onClick}},[void 0!==t.currentPost?s("div",{staticClass:"post"},[s("h1",{staticClass:"post-title"},[t._v(t._s(t.currentPost.title))]),s("div",{staticClass:"post-content"},[void 0!==t.currentPost.images.image460svwm?s("video",{ref:"video",staticClass:"post-video",attrs:{autoplay:"",loop:"",src:t.currentPost.images.image460svwm.url}}):s("img",{staticClass:"post-image",attrs:{src:t.currentPost.images.image460.url,alt:""}})])]):s("div",{staticClass:"loading"},[s("div",[t._v("CHARGEMENT")])])])],1)},_o=[],wo={components:{PhoneTitle:z},data(){return{nextCursor:"c=10",currentSelectPost:0,posts:[]}},computed:{currentPost(){if(this.posts&&this.posts.length>this.currentSelectPost)return this.posts[this.currentSelectPost];this.loadItems()}},methods:{async loadItems(){let t="https://9gag.com/v1/group-posts/group/default/type/hot?"+this.nextCursor;const e=await fetch(t),s=await e.json();this.posts.push(...s.data.posts),this.nextCursor=s.data.nextCursor},previewPost(){if(0===this.currentSelectPost)return 0;this.currentSelectPost-=1,setTimeout(()=>{void 0!==this.$refs.video&&(this.$refs.video.volume=.15)},200)},nextPost(){this.currentSelectPost+=1,setTimeout(()=>{void 0!==this.$refs.video&&(this.$refs.video.volume=.15)},200)},onClick(t){t.offsetX<200?this.previewPost():this.nextPost()},quit:function(){this.$router.push({name:"home"})}},created:function(){this.$bus.$on("keyUpArrowLeft",this.previewPost),this.$bus.$on("keyUpArrowRight",this.nextPost),this.$bus.$on("keyUpBackspace",this.quit)},beforeDestroy:function(){this.$bus.$off("keyUpArrowLeft",this.previewPost),this.$bus.$off("keyUpArrowRight",this.nextPost),this.$bus.$off("keyUpBackspace",this.quit)}},Co=wo,bo=(s("4d4d"),Object(u["a"])(Co,fo,_o,!1,null,"5129f650",null)),So=bo.exports;n["a"].use(d["a"]);var vo=new d["a"]({routes:[{path:"/",name:"home",component:N},{path:"/menu",name:"menu",component:D},{path:"/contacts",name:"contacts",component:be},{path:"/contact/:id/:number?",name:"contacts.view",component:Ee},{path:"/messages",name:"messages",component:Me},{path:"/messages/select",name:"messages.selectcontact",component:Ze},{path:"/messages/:number/:display",name:"messages.view",component:Fe},{path:"/bourse",name:"bourse",component:uo},{path:"/bank",name:"bank",component:oo},{path:"/photo",name:"photo",component:go},{path:"/paramtre",name:"parametre",component:Qn},{path:"/appels",name:"appels",component:ws},{path:"/appelsactive",name:"appels.active",component:ks},{path:"/appelsNumber",name:"appels.number",component:$s},{path:"/tchatsplash",name:"tchat",component:Ls},{path:"/tchat",name:"tchat.channel",component:Fs},{path:"/tchat/:channel",name:"tchat.channel.show",component:Zs},{path:"/notes",name:"notes",component:tn},{path:"/notes/:channel",name:"notes.channel.show",component:rn},{path:"/twitter/splash",name:"twitter.splash",component:dn},{path:"/twitter/view",name:"twitter.screen",component:Wn},{path:"/9gag",name:"9gag",component:So},{path:"*",redirect:"/"}]});const yo=60,ko=60*yo,To=24*ko,Eo=7*To,Ao=30*To,Io=365*To;function Po(t,e){if("just now"===t)return e;const s=Math.round(t);return Array.isArray(e)?s>1?e[1].replace(/%s/,s):e[0].replace(/%s/,s):e.replace(/%s/,s)}function $o(t){const e=new Date(t);return e.toLocaleString()}const No={en_US:["Just Now",["%s second ago","%s seconds ago"],["%s minute","%s minutes ago"],["%s hour ago","%s hours ago"],["%s day ago","%s days ago"],["%s week ago","%s weeks ago"],["%s month ago","%s months ago"],["%s year ago","%s years ago"]]};function Mo(t,{name:e="timeago",locale:s="en_US",locales:n=No}={}){if(!n||0===Object.keys(n).length)throw new TypeError("Expected locales to have at least one locale.");const o={props:{since:{required:!0},locale:String,maxTime:Number,autoUpdate:Number,format:Function},data(){return{now:(new Date).getTime()}},computed:{currentLocale(){if(t.prototype.$timeago){const t=o.locales[o.locale];if(t)return t}return n["en_US"]},sinceTime(){return new Date(this.since).getTime()},timeForTitle(){const t=this.now/1e3-this.sinceTime/1e3;return this.maxTime&&t>this.maxTime?null:this.format?this.format(this.sinceTime):$o(this.sinceTime)},timeago(){const t=this.now/1e3-this.sinceTime/1e3;if(this.maxTime&&t>this.maxTime)return clearInterval(this.interval),this.format?this.format(this.sinceTime):$o(this.sinceTime);const e=t<=5?Po("just now",this.currentLocale[0]):t<yo?Po(t,this.currentLocale[1]):t<ko?Po(t/yo,this.currentLocale[2]):t<To?Po(t/ko,this.currentLocale[3]):t<Eo?Po(t/To,this.currentLocale[4]):t<Ao?Po(t/Eo,this.currentLocale[5]):t<Io?Po(t/Ao,this.currentLocale[6]):Po(t/Io,this.currentLocale[7]);return e}},mounted(){this.autoUpdate&&this.update()},render(t){return t("time",{attrs:{datetime:new Date(this.since),title:this.timeForTitle}},this.timeago)},watch:{autoUpdate(t){this.stopUpdate(),t&&this.update()}},methods:{update(){const t=1e3*this.autoUpdate;this.interval=setInterval(()=>{this.now=(new Date).getTime()},t)},stopUpdate(){clearInterval(this.interval),this.interval=null}},beforeDestroy(){this.stopUpdate()},locale:"en_US",locales:{}};t.prototype.$timeago={setCurrentLocale(t){o.locale=t},addLocale(t,e){o.locales[t]=e}},t.component(e,o)}var Uo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notifications"},t._l(t.list,(function(e){return s("div",{key:e.id,staticClass:"notification",style:t.style(e)},[s("div",{staticClass:"title"},[e.icon?s("i",{staticClass:"fa",class:"fa-"+e.icon}):t._e(),t._v(" "+t._s(e.title)+" ")]),s("div",{staticClass:"message"},[t._v(t._s(e.message))])])})),0)},Oo=[],xo=new n["a"],Lo={data(){return{currentId:0,list:[]}},mounted(){xo.$on("add",this.addItem)},methods:{async addItem(t={}){const e={...t,id:this.currentId++,duration:parseInt(t.duration)||3e3};if(this.list.push(e),window.setTimeout(()=>{this.destroy(e.id)},e.duration),null!==t.sound&&void 0!==t.sound){var s="/html/static/sound/"+t.sound;const e=new r["Howl"]({src:s,onend:function(){e.src=null}});e.play()}},style(t){return{backgroundColor:t.backgroundColor}},destroy(t){this.list=this.list.filter(e=>e.id!==t)}}},Do=Lo,Ro=(s("f7bd"),Object(u["a"])(Do,Uo,Oo,!1,null,"7e5a21bf",null)),Bo=Ro.exports;const Ho={install:function(){if(this.installed)return;this.installed=!0,n["a"].component("notification",Bo);const t=t=>{xo.$emit("add",t)};n["a"].notify=t,Object.defineProperties(n["a"].prototype,{$notify:{get:()=>n["a"].notify}})}};var jo=Ho;const Fo={inserted(t){t.focus()}};var Vo=Fo;n["a"].use(Mo),n["a"].use(jo),n["a"].config.productionTip=!1,n["a"].prototype.$bus=new n["a"],n["a"].prototype.$phoneAPI=lt,window.VueTimeago=Mo,window.Vue=n["a"],window.store=ie,n["a"].directive("autofocus",Vo),window.APP=new n["a"]({el:"#app",store:ie,router:vo,render:t=>t(p)})},"5c1c":function(t,e,s){"use strict";var n=s("b824"),o=s.n(n);o.a},6019:function(t,e,s){},6283:function(t,e,s){"use strict";var n=s("b673"),o=s.n(n);o.a},"68e2":function(t,e,s){"use strict";var n=s("9d35"),o=s.n(n);o.a},"74e4":function(t,e,s){},8529:function(t,e,s){},8703:function(t,e,s){},"884d":function(t,e,s){"use strict";var n=s("40ed"),o=s.n(n);o.a},"88f2":function(t,e,s){"use strict";var n=s("6019"),o=s.n(n);o.a},"923e":function(t,e,s){"use strict";var n=s("cf23"),o=s.n(n);o.a},"93d4":function(t,e,s){},"9a43":function(t){t.exports=JSON.parse('{"100":"💯","1234":"🔢","grinning":"😀","grimacing":"😬","grin":"😁","joy":"😂","rofl":"🤣","partying":"🥳","smiley":"😃","smile":"😄","sweat_smile":"😅","laughing":"😆","innocent":"😇","wink":"😉","blush":"😊","slightly_smiling_face":"🙂","upside_down_face":"🙃","relaxed":"☺️","yum":"😋","relieved":"😌","heart_eyes":"😍","smiling_face_with_three_hearts":"🥰","kissing_heart":"😘","kissing":"😗","kissing_smiling_eyes":"😙","kissing_closed_eyes":"😚","stuck_out_tongue_winking_eye":"😜","zany":"🤪","raised_eyebrow":"🤨","monocle":"🧐","stuck_out_tongue_closed_eyes":"😝","stuck_out_tongue":"😛","money_mouth_face":"🤑","nerd_face":"🤓","sunglasses":"😎","star_struck":"🤩","clown_face":"🤡","cowboy_hat_face":"🤠","hugs":"🤗","smirk":"😏","no_mouth":"😶","neutral_face":"😐","expressionless":"😑","unamused":"😒","roll_eyes":"🙄","thinking":"🤔","lying_face":"🤥","hand_over_mouth":"🤭","shushing":"🤫","symbols_over_mouth":"🤬","exploding_head":"🤯","flushed":"😳","disappointed":"😞","worried":"😟","angry":"😠","rage":"😡","pensive":"😔","confused":"😕","slightly_frowning_face":"🙁","frowning_face":"☹","persevere":"😣","confounded":"😖","tired_face":"😫","weary":"😩","pleading":"🥺","triumph":"😤","open_mouth":"😮","scream":"😱","fearful":"😨","cold_sweat":"😰","hushed":"😯","frowning":"😦","anguished":"😧","cry":"😢","disappointed_relieved":"😥","drooling_face":"🤤","sleepy":"😪","sweat":"😓","hot":"🥵","cold":"🥶","sob":"😭","dizzy_face":"😵","astonished":"😲","zipper_mouth_face":"🤐","nauseated_face":"🤢","sneezing_face":"🤧","vomiting":"🤮","mask":"😷","face_with_thermometer":"🤒","face_with_head_bandage":"🤕","woozy":"🥴","sleeping":"😴","zzz":"💤","poop":"💩","smiling_imp":"😈","imp":"👿","japanese_ogre":"👹","japanese_goblin":"👺","skull":"💀","ghost":"👻","alien":"👽","robot":"🤖","smiley_cat":"😺","smile_cat":"😸","joy_cat":"😹","heart_eyes_cat":"😻","smirk_cat":"😼","kissing_cat":"😽","scream_cat":"🙀","crying_cat_face":"😿","pouting_cat":"😾","palms_up":"🤲","raised_hands":"🙌","clap":"👏","wave":"👋","call_me_hand":"🤙","\\\\+1":"👍","-1":"👎","facepunch":"👊","fist":"✊","fist_left":"🤛","fist_right":"🤜","v":"✌","ok_hand":"👌","raised_hand":"✋","raised_back_of_hand":"🤚","open_hands":"👐","muscle":"💪","pray":"🙏","foot":"🦶","leg":"🦵","handshake":"🤝","point_up":"☝","point_up_2":"👆","point_down":"👇","point_left":"👈","point_right":"👉","fu":"🖕","raised_hand_with_fingers_splayed":"🖐","love_you":"🤟","metal":"🤘","crossed_fingers":"🤞","vulcan_salute":"🖖","writing_hand":"✍","selfie":"🤳","nail_care":"💅","lips":"👄","tooth":"🦷","tongue":"👅","ear":"👂","nose":"👃","eye":"👁","eyes":"👀","brain":"🧠","bust_in_silhouette":"👤","busts_in_silhouette":"👥","speaking_head":"🗣","baby":"👶","child":"🧒","boy":"👦","girl":"👧","adult":"🧑","man":"👨","woman":"👩","blonde_woman":"👱‍♀️","blonde_man":"👱","bearded_person":"🧔","older_adult":"🧓","older_man":"👴","older_woman":"👵","man_with_gua_pi_mao":"👲","woman_with_headscarf":"🧕","woman_with_turban":"👳‍♀️","man_with_turban":"👳","policewoman":"👮‍♀️","policeman":"👮","construction_worker_woman":"👷‍♀️","construction_worker_man":"👷","guardswoman":"💂‍♀️","guardsman":"💂","female_detective":"🕵️‍♀️","male_detective":"🕵","woman_health_worker":"👩‍⚕️","man_health_worker":"👨‍⚕️","woman_farmer":"👩‍🌾","man_farmer":"👨‍🌾","woman_cook":"👩‍🍳","man_cook":"👨‍🍳","woman_student":"👩‍🎓","man_student":"👨‍🎓","woman_singer":"👩‍🎤","man_singer":"👨‍🎤","woman_teacher":"👩‍🏫","man_teacher":"👨‍🏫","woman_factory_worker":"👩‍🏭","man_factory_worker":"👨‍🏭","woman_technologist":"👩‍💻","man_technologist":"👨‍💻","woman_office_worker":"👩‍💼","man_office_worker":"👨‍💼"}')},"9d35":function(t,e,s){},"9f86":function(t,e,s){"use strict";var n=s("fc58"),o=s.n(n);o.a},a127:function(t,e,s){},a685:function(t,e,s){"use strict";var n=s("8529"),o=s.n(n);o.a},ae6b:function(t,e,s){"use strict";var n=s("4746"),o=s.n(n);o.a},b27d:function(t,e,s){},b29c:function(t,e,s){},b561:function(t,e,s){},b673:function(t,e,s){},b824:function(t,e,s){},bcf0:function(t,e,s){},c55b:function(t,e,s){"use strict";var n=s("5568"),o=s.n(n);o.a},c690:function(t,e,s){"use strict";var n=s("8703"),o=s.n(n);o.a},cc39:function(t,e,s){"use strict";var n=s("3019"),o=s.n(n);o.a},cf23:function(t,e,s){},cf9f:function(t,e,s){},d199:function(t,e,s){},e1f4:function(t,e,s){"use strict";var n=s("4663"),o=s.n(n);o.a},e77d:function(t,e,s){},eb34:function(t,e,s){"use strict";var n=s("74e4"),o=s.n(n);o.a},f168:function(t,e,s){"use strict";var n=s("b27d"),o=s.n(n);o.a},f1bd:function(t,e,s){"use strict";var n=s("349a"),o=s.n(n);o.a},f690:function(t,e,s){},f7bd:function(t,e,s){"use strict";var n=s("00f8"),o=s.n(n);o.a},fb58:function(t,e,s){"use strict";var n=s("bcf0"),o=s.n(n);o.a},fc58:function(t,e,s){}});
//# sourceMappingURL=app.js.map